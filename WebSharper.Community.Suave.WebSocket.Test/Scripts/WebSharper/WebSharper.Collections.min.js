(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Collections=b.Collections||{};d=c.BalancedTree=c.BalancedTree||{};e=d.Tree=d.Tree||{};f=c.Pair=c.Pair||{};g=c.MapUtil=c.MapUtil||{};h=c.FSharpMap=c.FSharpMap||{};i=c.Map=c.Map||{};j=c.FSharpSet=c.FSharpSet||{};k=c.Set=c.Set||{};l=c.ListEnumerator=c.ListEnumerator||{};m=c.List=c.List||{};n=c.ResizeArray=c.ResizeArray||{};o=c.LinkedListEnumerator=c.LinkedListEnumerator||{};p=c.LinkedList=c.LinkedList||{};q=b.Grouping=b.Grouping||{};r=b.FsComparer=b.FsComparer||{};s=b.ProjectionComparer=b.ProjectionComparer||{};t=b.CompoundComparer=b.CompoundComparer||{};u=b.ReverseComparer=b.ReverseComparer||{};v=b.OrderedEnumerable=b.OrderedEnumerable||{};w=b.Linq=b.Linq||{};x=b&&b.Arrays;y=b&&b.Seq;z=b&&b.Operators;A=b&&b.List;B=a.IntelliFactory;C=B&&B.Runtime;D=b&&b.Unchecked;E=b&&b.Enumerator;F=c&&c.HashSet;G=c&&c.Dictionary;H=b&&b.Nullable;e.New=function(I,J,K,L,M){return{Node:I,Left:J,Right:K,Height:L,Count:M};};d.TryFind=function(I,J){var K;K=(d.Lookup(I,J))[0];return K==null?null:{$:1,$0:K.Node};};d.Contains=function(I,J){return!((d.Lookup(I,J))[0]==null);};d.Add=function(I,J){return d.Put(function(K,L){return L;},I,J);};d.Remove=function(I,J){var K,L,M,N,O;K=d.Lookup(I,J);L=K[0];M=K[1];return L==null?J:L.Right==null?d.Rebuild(M,L.Left):L.Left==null?d.Rebuild(M,L.Right):(N=(O=x.ofSeq(y.append(d.Enumerate(false,L.Left),d.Enumerate(false,L.Right))),d.Build(O,0,O.length-1)),d.Rebuild(M,N));};d.Put=function(I,J,K){var L,M,N;L=d.Lookup(J,K);M=L[0];N=L[1];return M==null?d.Rebuild(N,d.Branch(J,null,null)):d.Rebuild(N,d.Branch(I(M.Node,J),M.Left,M.Right));};d.Rebuild=function(I,J){var K,M,N,O,P,Q,R,S,T,U;function L(V){return V==null?0:V.Height;}K=J;for(M=0,N=x.length(I)-1;M<=N;M++){K=(O=x.get(I,M),O[0]?(P=O[1],(Q=O[2],L(K)>L(Q)+1?L(K.Left)===L(K.Right)+1?(R=K.Left,d.Branch(R.Node,d.Branch(P,Q,R.Left),d.Branch(K.Node,R.Right,K.Right))):d.Branch(K.Node,d.Branch(P,Q,K.Left),K.Right):d.Branch(P,Q,K))):(S=O[1],(T=O[2],L(K)>L(T)+1?L(K.Right)===L(K.Left)+1?(U=K.Right,d.Branch(U.Node,d.Branch(K.Node,K.Left,U.Left),d.Branch(S,U.Right,T))):d.Branch(K.Node,K.Left,d.Branch(S,K.Right,T)):d.Branch(S,K,T))));}return K;};d.Lookup=function(I,J){var K,L,M,N;K=[];L=J;M=true;while(M)if(L==null)M=false;else{N=z.Compare(I,L.Node);N===0?M=false:N===1?(K.unshift([true,L.Node,L.Left]),L=L.Right):(K.unshift([false,L.Node,L.Right]),L=L.Left);}return[L,K];};d.OfSeq=function(I){var J;J=x.ofSeq(y.distinct(I));x.sortInPlace(J);return d.Build(J,0,J.length-1);};d.Build=function(I,J,K){var L,M,N;return K-J+1<=0?null:(L=(J+K)/2>>0,(M=d.Build(I,J,L-1),(N=d.Build(I,L+1,K),d.Branch(x.get(I,L),M,N))));};d.Enumerate=function(I,J){var K;K=function(L,M){var N;while(true)if(L==null)return M.$==1?{$:1,$0:[M.$0[0],[M.$0[1],M.$1]]}:null;else if(I){N=L;L=N.Right;M=new A.T({$:1,$0:[N.Node,N.Left],$1:M});}else{N=L;L=N.Left;M=new A.T({$:1,$0:[N.Node,N.Right],$1:M});}};return y.unfold(function(L){return K(L[0],L[1]);},[J,new A.T({$:0})]);};d.Branch=function(I,J,K){return e.New(I,J,K,1+z.Max(J==null?0:J.Height,K==null?0:K.Height),1+(J==null?0:J.Count)+(K==null?0:K.Count));};f=c.Pair=C.Class({Equals:function(I){return D.Equals(this.Key,I.Key);},GetHashCode:function(){return D.Hash(this.Key);},CompareTo0:function(I){return z.Compare(this.Key,I.Key);}},null,f);f.New=function(I,J){return new f({Key:I,Value:J});};g.fromSeq=function(I){var J;J=x.ofSeq(y.delay(function(){return y.collect(function(K){return[f.New(K[0],K[1])];},y.distinctBy(function(K){return K[0];},I));}));x.sortInPlace(J);return d.Build(J,0,J.length-1);};h=c.FSharpMap=C.Class({Equals:function(I){return this.get_Count()===I.get_Count()?y.forall2(D.Equals,this,I):false;},GetHashCode:function(){return D.Hash(x.ofSeq(this));},GetEnumerator$1:function(){var I;return E.Get((I=function(J){return{K:J.Key,V:J.Value};},function(J){return y.map(I,J);}(d.Enumerate(false,this.tree))));},TryFind:function(I){var J,K;J=function(L){return L.Value;};return function(L){return L==null?null:{$:1,$0:J(L.$0)};}((K=f.New(I,void 0),function(L){return d.TryFind(K,L);}(this.tree)));},Remove:function(I){var J;return new h.New$1((J=f.New(I,void 0),function(K){return d.Remove(J,K);}(this.tree)));},get_Item:function(I){var J;J=this.TryFind(I);return J==null?z.FailWith("The given key was not present in the dictionary."):J.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var I;I=this.tree;return I==null?0:I.Count;},ContainsKey:function(I){var J;J=f.New(I,void 0);return function(K){return d.Contains(J,K);}(this.tree);},Add:function(I,J){var K;return new h.New$1((K=f.New(I,J),function(L){return d.Add(K,L);}(this.tree)));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(I){return y.compareWith(z.Compare,this,I);}},null,h);h.New=C.Ctor(function(I){h.New$1.call(this,g.fromSeq(I));},h);h.New$1=C.Ctor(function(I){this.tree=I;},h);i.Map=function(I,J){var K,L;K=d.OfSeq((L=function(M){return f.New(M.Key,I(M.Key,M.Value));},function(M){return y.map(L,M);}(d.Enumerate(false,J.get_Tree()))));return new h.New$1(K);};i.TryPick=function(I,J){var K;K=function(L){return I(L.K,L.V);};return function(L){return y.tryPick(K,L);}(J);};i.TryFindKey=function(I,J){var K;K=function(L){return I(L.K,L.V)?{$:1,$0:L.K}:null;};return function(L){return y.tryPick(K,L);}(J);};i.TryFind=function(I,J){return J.TryFind(I);};i.ToSeq=function(I){var J;J=function(K){return[K.Key,K.Value];};return function(K){return y.map(J,K);}(d.Enumerate(false,I.get_Tree()));};i.Pick=function(I,J){var K;K=function(L){return I(L.K,L.V);};return function(L){return y.pick(K,L);}(J);};i.Partition=function(I,J){var K,L,M,N;K=(L=function(O){return I(O.Key,O.Value);},function(O){return x.partition(L,O);}(x.ofSeq(d.Enumerate(false,J.get_Tree()))));return[new h.New$1((M=K[0],d.Build(M,0,M.length-1))),new h.New$1((N=K[1],d.Build(N,0,N.length-1)))];};i.OfArray=function(I){var J;J=d.OfSeq(y.map(function(K){return f.New(K[0],K[1]);},I));return new h.New$1(J);};i.Iterate=function(I,J){var K;K=function(L){I(L.K,L.V);};(function(L){y.iter(K,L);}(J));};i.ForAll=function(I,J){var K;K=function(L){return I(L.K,L.V);};return function(L){return y.forall(K,L);}(J);};i.FoldBack=function(I,J,K){var L;L=function(M,N){return I(N.Key,N.Value,M);};return function(M){return y.fold(L,K,M);}(d.Enumerate(true,J.get_Tree()));};i.Fold=function(I,J,K){var L;L=function(M,N){return I(M,N.Key,N.Value);};return function(M){return y.fold(L,J,M);}(d.Enumerate(false,K.get_Tree()));};i.FindKey=function(I,J){var K;K=function(L){return I(L.K,L.V)?{$:1,$0:L.K}:null;};return function(L){return y.pick(K,L);}(J);};i.Filter=function(I,J){var K,L,M;K=(L=x.ofSeq((M=function(N){return I(N.Key,N.Value);},function(N){return y.filter(M,N);}(d.Enumerate(false,J.get_Tree())))),d.Build(L,0,L.length-1));return new h.New$1(K);};i.Exists=function(I,J){var K;K=function(L){return I(L.K,L.V);};return function(L){return y.exists(K,L);}(J);};j=c.FSharpSet=C.Class({Equals:function(I){return this.get_Count()===I.get_Count()?y.forall2(D.Equals,this,I):false;},GetHashCode:function(){return -1741749453+D.Hash(x.ofSeq(this));},GetEnumerator$1:function(){return E.Get(d.Enumerate(false,this.tree));},Remove:function(I){return new j.New$1(d.Remove(I,this.tree));},get_MinimumElement:function(){return y.head(d.Enumerate(false,this.tree));},get_MaximumElement:function(){return y.head(d.Enumerate(true,this.tree));},IsSupersetOf:function(I){var J;J=this;return y.forall(function(K){return J.Contains(K);},I);},IsSubsetOf:function(I){return y.forall(function(J){return I.Contains(J);},this);},IsProperSupersetOf:function(I){return this.IsSupersetOf(I)?this.get_Count()>I.get_Count():false;},IsProperSubsetOf:function(I){return this.IsSubsetOf(I)?this.get_Count()<I.get_Count():false;},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var I;I=this.tree;return I==null?0:I.Count;},Contains:function(I){return d.Contains(I,this.tree);},Add:function(I){return new j.New$1(d.Add(I,this.tree));},sub:function(I){return k.Filter(function(J){return!I.Contains(J);},this);},add:function(I){return new j.New$1(d.OfSeq(y.append(this,I)));},CompareTo0:function(I){return y.compareWith(z.Compare,this,I);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,j);j.New=C.Ctor(function(I){j.New$1.call(this,d.OfSeq(I));},j);j.New$1=C.Ctor(function(I){this.tree=I;},j);k.Partition=function(I,J){var K;K=x.partition(I,x.ofSeq(J));return[new j.New$1(d.OfSeq(K[0])),new j.New$1(d.OfSeq(K[1]))];};k.FoldBack=function(I,J,K){return y.fold(function(L,M){return I(M,L);},K,d.Enumerate(true,J.get_Tree()));};k.Filter=function(I,J){var K;return new j.New$1((K=x.ofSeq(y.filter(I,J)),d.Build(K,0,K.length-1)));};l=c.ListEnumerator=C.Class({get_Current:function(){return x.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<x.length(this.arr);},Dispose:function(){},Current:function(){return x.get(this.arr,this.i);},Reset:function(){z.FailWith("IEnumerator.Reset not supported");},Current0:function(){return x.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},null,l);l.New=C.Ctor(function(I){this.arr=I;this.i=-1;},l);m=c.List=C.Class({ToArray:function(){return this.arr.slice();},Reverse:function(I,J){x.reverse(this.arr,I,J);},Reverse$1:function(){this.arr.reverse();},RemoveRange:function(I,J){var K;K=n.splice(this.arr,I,J,[]);},RemoveAt:function(I){var J;J=n.splice(this.arr,I,1,[]);},set_Item:function(I,J){x.set(this.arr,I,J);},get_Item:function(I){return x.get(this.arr,I);},InsertRange:function(I,J){var K;K=n.splice(this.arr,I,0,x.ofSeq(J));},Insert:function(I,J){var K;K=n.splice(this.arr,I,0,[J]);},GetRange:function(I,J){return new m.New$3(x.sub(this.arr,I,J));},get_Count:function(){return x.length(this.arr);},CopyTo:function(I,J,K,L){x.blit(this.arr,I,J,K,L);},CopyTo$1:function(I,J){this.CopyTo(0,I,J,this.get_Count());},CopyTo$2:function(I){this.CopyTo$1(I,0);},Clear:function(){var I;I=n.splice(this.arr,0,x.length(this.arr),[]);},AddRange:function(I){var J;J=this;y.iter(function(K){J.Add(K);},I);},Add:function(I){this.arr.push(I);},GetEnumerator:function(){return E.Get(this.arr);},GetEnumerator0:function(){return E.Get0(this.arr);}},null,m);m.New=C.Ctor(function(I){m.New$3.call(this,x.ofSeq(I));},m);m.New$1=C.Ctor(function(I){m.New$3.call(this,[]);},m);m.New$2=C.Ctor(function(){m.New$3.call(this,[]);},m);m.New$3=C.Ctor(function(I){this.arr=I;},m);n.splice=function(I,J,K,L){return a.Array.prototype.splice.apply(I,[J,K].concat(L));};o=c.LinkedListEnumerator=C.Class({Reset:function(){},Dispose:function(){},MoveNext:function(){this.c=this.c.n;return!D.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},null,o);o.New=C.Ctor(function(I){this.c=I;},o);p=c.LinkedList=C.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(I){var J;J=this.Find(I);return D.Equals(J,null)?false:(this.Remove$1(J),true);},Remove$1:function(I){var J,K;J=I.p;K=I.n;D.Equals(J,null)?this.n=K:J.n=K;D.Equals(K,null)?this.p=J:K.p=J;this.c=this.c-1;},GetEnumerator$1:function(){return new o.New(this);},FindLast:function(I){var J,K;J=this.p;K=true;while(K?!D.Equals(J,null):false)if(J.v==I)K=false;else J=J.p;return K?null:J;},Find:function(I){var J,K;J=this.n;K=true;while(K?!D.Equals(J,null):false)if(J.v==I)K=false;else J=J.n;return K?null:J;},Contains:function(I){var J,K;J=false;K=this.n;while(!D.Equals(K,null)?!J:false)if(K.v==I)J=true;else K=K.n;return J;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(I){var J;return this.c===0?(J={p:null,n:null,v:I},(this.n=J,this.p=this.n,this.c=1,J)):this.AddAfter(this.p,I);},AddFirst:function(I){var J;return this.c===0?(J={p:null,n:null,v:I},(this.n=J,this.p=this.n,this.c=1,J)):this.AddBefore(this.n,I);},AddBefore:function(I,J){var K,L;K=I.p;L={p:K,n:I,v:J};D.Equals(I.p,null)?this.n=L:void 0;I.p=L;!D.Equals(K,null)?K.n=L:void 0;this.c=this.c+1;return L;},AddAfter:function(I,J){var K,L;K=I.n;L={p:I,n:K,v:J};D.Equals(I.n,null)?this.p=L:void 0;I.n=L;!D.Equals(K,null)?K.p=L:void 0;this.c=this.c+1;return L;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,p);p.New=C.Ctor(function(){p.New$1.call(this,[]);},p);p.New$1=C.Ctor(function(I){var J,K;this.c=0;this.n=null;this.p=null;J=E.Get(I);J.MoveNext()?(this.n={p:null,n:null,v:J.Current()},this.p=this.n,this.c=1):void 0;while(J.MoveNext()){K={p:this.p,n:null,v:J.Current()};this.p.n=K;this.p=K;this.c=this.c+1;}},p);q=b.Grouping=C.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return E.Get0(this.v);},GetEnumerator:function(){return E.Get(this.v);}},null,q);q.New=C.Ctor(function(I,J){this.k=I;this.v=J;},q);r=b.FsComparer=C.Class({Compare:function(I,J){return z.Compare(I,J);}},null,r);r.New=C.Ctor(function(){},r);s=b.ProjectionComparer=C.Class({Compare:function(I,J){return this.primary.Compare(this.projection(I),this.projection(J));}},null,s);s.New=C.Ctor(function(I,J){this.primary=I;this.projection=J;},s);t=b.CompoundComparer=C.Class({Compare:function(I,J){var K;K=this.primary.Compare(I,J);return K===0?this.secondary.Compare(I,J):K;}},null,t);t.New=C.Ctor(function(I,J){this.primary=I;this.secondary=J;},t);u=b.ReverseComparer=C.Class({Compare:function(I,J){return this.primary.Compare(this.projection(J),this.projection(I));}},null,u);u.New=C.Ctor(function(I,J){this.primary=I;this.projection=J;},u);v=b.OrderedEnumerable=C.Class({GetEnumerator0:function(){return E.Get(this);},GetEnumerator:function(){var I,J;I=this;J=x.ofSeq(this.source);x.sortInPlaceWith(function(K,L){return I.primary.Compare(K,L);},J);return E.Get(J);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(I,J,K){var L;L=K?new u.New(J,I):new s.New(J,I);return new v.New(this.source,new t.New(this.primary,L));}},null,v);v.New=C.Ctor(function(I,J){this.source=I;this.primary=J;},v);w.ElementAtOrDefault=function(I,J,K){try{return y.nth(J,I);}catch(L){return K;}};w.FirstOrDefault=function(I,J){var K;K=E.Get(I);try{return K.MoveNext()?K.Current():J;}finally{if("Dispose"in K)K.Dispose();}};w.FirstOrDefault$1=function(I,J,K){var L;L=y.tryFind(J,I);return L==null?K:L.$0;};w.LastOrDefault=function(I,J,K){var L;L=w.LastPred(I,J);return L==null?K:L.$0;};w.SingleOrDefault=function(I,J,K){var L,M;L=E.Get(I);try{M=null;while(L.MoveNext())if(J(L.Current()))if(M!=null?M.$==1:false)z.InvalidOp("Sequence contains more than one element");else M={$:1,$0:L.Current()};return M==null?K:M.$0;}finally{if("Dispose"in L)L.Dispose();}};w.Where=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return y.append(J(K.Current(),L)?[K.Current()]:[],y.delay(function(){L=L+1;return[];}));}));});});};w.Union=function(I,J,K){var L,M,N;L=new F.New(I,K);M=E.Get(J);try{while(M.MoveNext()){N=L.Add(M.Current());}}finally{if("Dispose"in M)M.Dispose();}return L;};w.ToDictionary=function(I,J,K,L){var M;M=new G.New$3(L);y.iter(function(N){M.Add(J(N),K(N));},I);return M;};w.ToDictionary$1=function(I,J,K){var L;L=new G.New$3(K);y.iter(function(M){L.Add(J(M),M);},I);return L;};w.TakeWhile=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){return y.enumWhile(function(){return K.MoveNext()?J(K.Current()):false;},y.delay(function(){return[K.Current()];}));});});};w.TakeWhile$1=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return K.MoveNext()?J(K.Current(),L):false;},y.delay(function(){L=L+1;return[K.Current()];}));});});};w.Take=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return L<J?K.MoveNext():false;},y.delay(function(){L=L+1;return[K.Current()];}));});});};w.Sum=function(I){var J,K;J=(K=function(L){return L!=null?{$:1,$0:H.get(L)}:null;},function(L){return y.choose(K,L);}(I));return y.isEmpty(J)?null:y.sum(J);};w.SkipWhile=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=true;return y.append(y.enumWhile(function(){return L?K.MoveNext():false;},y.delay(function(){return!J(K.Current())?(L=false,[]):[];})),y.delay(function(){return!L?y.append([K.Current()],y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));})):[];}));});});};w.SkipWhile$1=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L,M;L=0;M=true;return y.append(y.enumWhile(function(){return M?K.MoveNext():false;},y.delay(function(){return J(K.Current(),L)?(L=L+1,[]):(M=false,[]);})),y.delay(function(){return!M?y.append([K.Current()],y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));})):[];}));});});};w.Skip=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=0;return y.append(y.enumWhile(function(){return L<J?K.MoveNext():false;},y.delay(function(){L=L+1;return[];})),y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));}));});});};w.Single=function(I,J){var K,L;K=((L=function(M,N){return J(N)?M!=null?z.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:N}:M;},(C.Curried3(y.fold))(L))(null))(I);return(K!=null?K.$==1:false)?K.$0:z.InvalidOp("Sequence contains no elements");};w.SequenceEqual=function(I,J,K){var L,M,N;L=E.Get(I);try{N=E.Get(I);try{M=function(){while(true)if(L.MoveNext()){if(N.MoveNext()?K.CEquals(L.Current(),N.Current()):false);else return false;}else return!N.MoveNext();}();}finally{if("Dispose"in N)N.Dispose();}return M;}finally{if("Dispose"in L)L.Dispose();}};w.SelectMany=function(I,J,K){var L,M;L=function(N,O){var P;P=function(Q){return K(N,Q);};return function(Q){return y.map(P,Q);}(O);};return function(N){return y.collect(function(O){return L(O[0],O[1]);},N);}((M=function(N,O){return[O,J(O,N)];},function(N){return y.mapi(M,N);}(I)));};w.SelectMany$1=function(I,J,K){var L,M;L=function(N,O){var P;P=function(Q){return K(N,Q);};return function(Q){return y.map(P,Q);}(O);};return function(N){return y.collect(function(O){return L(O[0],O[1]);},N);}((M=function(N){return[N,J(N)];},function(N){return y.map(M,N);}(I)));};w.SelectMany$2=function(I,J){return y.concat(y.mapi(function(K,L){return J(L,K);},I));};w.Select=function(I,J){return y.mapi(function(K,L){return J(L,K);},I);};w.Reverse=function(I){return x.ofSeq(I).slice().reverse();};w.Repeat=function(I,J){return y.init(J,function(){return I;});};w.Range=function(I,J){return y.init(J,function(K){return I+K;});};w.OrderByDescending=function(I,J,K){return new v.New(I,new u.New(K,J));};w.OrderBy=function(I,J,K){return new v.New(I,new s.New(K,J));};w.Min=function(I){var J,K;J=(K=function(L){return L!=null?{$:1,$0:H.get(L)}:null;},function(L){return y.choose(K,L);}(I));return y.isEmpty(J)?null:y.min(J);};w.Max=function(I){var J,K;J=(K=function(L){return L!=null?{$:1,$0:H.get(L)}:null;},function(L){return y.choose(K,L);}(I));return y.isEmpty(J)?null:y.max(J);};w.Last=function(I,J){var K;K=w.LastPred(I,J);return K==null?z.InvalidOp("Sequence contains no matching element"):K.$0;};w.LastPred=function(I,J){var K;return((K=function(L,M){return J(M)?{$:1,$0:M}:L;},(C.Curried3(y.fold))(K))(null))(I);};w.Join=function(I,J,K,L,M,N){return y.delay(function(){var O,P,Q;O=new G.New$3(N);P=x.ofSeq(y.delay(function(){return y.collect(function(R){var S,T,U,V;S=K(R);T=(U=null,[O.TryGetValue(S,{get:function(){return U;},set:function(W){U=W;}}),U]);return T[0]?[]:(V=[R,new m.New$2()],(O.Add(S,V),[V]));},I);}));Q=E.Get(J);try{while(Q.MoveNext())(function(){var R,S,T,U;R=Q.Current();S=L(R);T=(U=null,[O.TryGetValue(S,{get:function(){return U;},set:function(V){U=V;}}),U]);return T[0]?T[1][1].Add(R):null;}());}finally{if("Dispose"in Q)Q.Dispose();}return x.ofSeq(y.delay(function(){return y.collect(function(R){var S;S=R[0];return y.map(function(T){return M(S,T);},R[1]);},P);}));});};w.Intersect=function(I,J,K){var L;L=new F.New(I,K);return y.delay(function(){var M;M=new F.New$1(K);return y.collect(function(N){return(L.Contains(N)?M.Add(N):false)?[N]:[];},J);});};w.GroupJoin=function(I,J,K,L,M,N){return y.delay(function(){var O,P,Q,R;P=new G.New$3(N);Q=x.ofSeq(y.delay(function(){return y.collect(function(S){var T,U,V,W;T=K(S);U=(V=null,[P.TryGetValue(T,{get:function(){return V;},set:function(X){V=X;}}),V]);return U[0]?[]:(W=[S,new m.New$2()],(P.Add(T,W),[W]));},I);}));R=E.Get(J);try{while(R.MoveNext())(function(){var S,T,U,V;S=R.Current();T=L(S);U=(V=null,[P.TryGetValue(T,{get:function(){return V;},set:function(W){V=W;}}),V]);return U[0]?U[1][1].Add(S):null;}());}finally{if("Dispose"in R)R.Dispose();}O=function(S,T){return x.set(Q,S,M(T[0],T[1]));};(function(S){x.iteri(O,S);}(Q));return Q;});};w.GroupBy=function(I,J,K,L,M){var N;N=function(O){return L(O.System_Linq_IGrouping_2$get_Key(),O);};return function(O){return y.map(N,O);}(w.GroupBy$1(I,J,K,M));};w.GroupBy$1=function(I,J,K,L){return y.delay(function(){return x.ofSeq(y.delay(function(){var M;M=new G.New$3(L);return y.collect(function(N){var O,P,Q,R,S;O=J(N);P=K(N);Q=(R=null,[M.TryGetValue(O,{get:function(){return R;},set:function(T){R=T;}}),R]);return Q[0]?(Q[1].Add(P),[]):(S=new m.New$2(),(S.Add(P),M.set_Item(O,S),[new q.New(O,S)]));},I);}));});};w.Except=function(I,J,K){var L,M,N;L=new F.New(I,K);M=E.Get(J);try{while(M.MoveNext()){N=L.Remove(M.Current());}}finally{if("Dispose"in M)M.Dispose();}return L;};w.Distinct=function(I,J){return y.delay(function(){return y.enumUsing(E.Get(I),function(K){var L;L=new F.New$1(J);return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return L.Add(K.Current())?[K.Current()]:[];}));});});};w.DefaultIfEmpty=function(I,J){return y.isEmpty(I)?[J]:I;};w.Average=function(I){var J,K,L,M,N,O;J=[];K=E.Get(I);try{while(K.MoveNext()){if(M=K.Current(),M!=null){N=J.push((O=K.Current(),H.get(O)));}}return x.length(J)===0?null:y.sum(J)/(L=x.length(J),a.Number(L));}finally{if("Dispose"in K)K.Dispose();}};}());
