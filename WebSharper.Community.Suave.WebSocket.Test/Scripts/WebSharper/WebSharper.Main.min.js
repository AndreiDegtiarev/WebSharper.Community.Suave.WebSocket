(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu;a=window;b=a.WebSharper=a.WebSharper||{};c=b.JavaScript=b.JavaScript||{};d=c.JSModule=c.JSModule||{};e=b.Collections=b.Collections||{};f=e.EqualityComparer=e.EqualityComparer||{};g=b.MacroModule=b.MacroModule||{};h=g.EquatableEqualityComparer=g.EquatableEqualityComparer||{};i=g.BaseEqualityComparer=g.BaseEqualityComparer||{};j=e.Comparer=e.Comparer||{};k=g.ComparableComparer=g.ComparableComparer||{};l=g.BaseComparer=g.BaseComparer||{};m=c.Pervasives=c.Pervasives||{};n=b.Json=b.Json||{};o=b.Remoting=b.Remoting||{};p=o.XhrProvider=o.XhrProvider||{};q=o.AjaxRemotingProvider=o.AjaxRemotingProvider||{};r=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};s=b.PrintfHelpers=b.PrintfHelpers||{};t=b.Concurrency=b.Concurrency||{};u=t.Scheduler=t.Scheduler||{};v=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};w=b.Enumerator=b.Enumerator||{};x=w.T=w.T||{};y=b.HtmlContentExtensions=b.HtmlContentExtensions||{};z=y.SingleNode=y.SingleNode||{};A=b.Activator=b.Activator||{};B=b.Arrays=b.Arrays||{};C=b.Seq=b.Seq||{};D=b.List=b.List||{};E=b.Arrays2D=b.Arrays2D||{};F=b.CancellationTokenSource=b.CancellationTokenSource||{};G=b.Char=b.Char||{};H=b.Util=b.Util||{};I=b.DateUtil=b.DateUtil||{};J=b.Delegate=b.Delegate||{};K=e.DictionaryUtil=e.DictionaryUtil||{};L=e.KeyCollection=e.KeyCollection||{};M=e.ValueCollection=e.ValueCollection||{};N=e.Dictionary=e.Dictionary||{};O=b.MatchFailureException=b.MatchFailureException||{};P=b.IndexOutOfRangeException=b.IndexOutOfRangeException||{};Q=b.OperationCanceledException=b.OperationCanceledException||{};R=b.ArgumentException=b.ArgumentException||{};S=b.ArgumentOutOfRangeException=b.ArgumentOutOfRangeException||{};T=b.InvalidOperationException=b.InvalidOperationException||{};U=b.AggregateException=b.AggregateException||{};V=b.TimeoutException=b.TimeoutException||{};W=b.FormatException=b.FormatException||{};X=b.OverflowException=b.OverflowException||{};Y=b.Guid=b.Guid||{};Z=e.HashSetUtil=e.HashSetUtil||{};_0=e.HashSet=e.HashSet||{};_1=b.Lazy=b.Lazy||{};_2=D.T=D.T||{};_3=b.Nullable=b.Nullable||{};_4=b.Ref=b.Ref||{};_5=b.Operators=b.Operators||{};_6=b.Slice=b.Slice||{};_7=b.Option=b.Option||{};_8=b.Queue=b.Queue||{};_9=b.Random=b.Random||{};_=a.Microsoft=a.Microsoft||{};$=_.FSharp=_.FSharp||{};ba=$.Core=$.Core||{};bb=ba.FSharpRef=ba.FSharpRef||{};bc=b.Control=b.Control||{};bd=b.Stack=b.Stack||{};be=b.Strings=b.Strings||{};bf=b.Task=b.Task||{};bg=b.Task1=b.Task1||{};bh=b.TaskCompletionSource=b.TaskCompletionSource||{};bi=b.Unchecked=b.Unchecked||{};bj=b.N=b.N||{};bk=b.Byte=b.Byte||{};bl=b.SByte=b.SByte||{};bm=b.Int16=b.Int16||{};bn=b.Int32=b.Int32||{};bo=b.UInt16=b.UInt16||{};bp=b.UInt32=b.UInt32||{};bq=b.Int64=b.Int64||{};br=b.UInt64=b.UInt64||{};bs=a.IntelliFactory;bt=bs&&bs.Runtime;bu=a.String;d.LogMore=function(bv){if(a.console)a.console.log.apply(a.console,bv);};d.Log=function(bv){if(a.console)a.console.log(bv);};d.GetFieldValues=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push(bv[by]);return bw;};d.GetFieldNames=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push(by);return bw;};d.GetFields=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push([by,bv[by]]);return bw;};f=e.EqualityComparer=bt.Class({CGetHashCode0:function(bv){return this.GetHashCode(bv);},CEquals0:function(bv,bw){return this.Equals(bv,bw);},CGetHashCode:function(bv){return this.GetHashCode(bv);},CEquals:function(bv,bw){return this.Equals(bv,bw);}},null,f);f.New=bt.Ctor(function(){},f);h=g.EquatableEqualityComparer=bt.Class({GetHashCode:function(bv){return bi.Hash(bv);},Equals:function(bv,bw){return bv.EEquals(bw);}},f,h);h.New=bt.Ctor(function(){f.New.call(this);},h);i=g.BaseEqualityComparer=bt.Class({GetHashCode:function(bv){return bi.Hash(bv);},Equals:function(bv,bw){return bi.Equals(bv,bw);}},f,i);i.New=bt.Ctor(function(){f.New.call(this);},i);j=e.Comparer=bt.Class({Compare0:function(bv,bw){return this.Compare$1(bv,bw);},Compare:function(bv,bw){return this.Compare$1(bv,bw);}},null,j);j.New=bt.Ctor(function(){},j);k=g.ComparableComparer=bt.Class({Compare$1:function(bv,bw){return bv.CompareTo(bw);}},j,k);k.New=bt.Ctor(function(){j.New.call(this);},k);l=g.BaseComparer=bt.Class({Compare$1:function(bv,bw){return _5.Compare(bv,bw);}},j,l);l.New=bt.Ctor(function(){j.New.call(this);},l);m.GetJS=function(bv,bw){var bx,by;bx=bv;by=w.Get(bw);try{while(by.MoveNext())bx=bx[by.Current()];}finally{if("Dispose"in by)by.Dispose();}return bx;};m.NewFromSeq=function(bv){var bw,bx,by;bw={};bx=w.Get(bv);try{while(bx.MoveNext()){by=bx.Current();bw[by[0]]=by[1];}}finally{if("Dispose"in bx)bx.Dispose();}return bw;};n.Activate=function(bv){var bx,by,bz;function bw(bA){var bB,bC,bD,bE,bF,bG;if(bi.Equals(bA,null))return bA;else if(typeof bA=="object"){if(bA instanceof a.Array)return n.shallowMap(bw,bA);else{bC=n.shallowMap(bw,bA.$V);bD=bA.$T;if(bi.Equals(typeof bD,"undefined"))return bC;else{bE=B.get(bx,bD);if(bE===a.WebSharper.List.T)return D.ofArray(bC);else{bF=(bB=B.get(bx,bD),new bB());for(var bH in bC)if(function(bI){bF[bI]=bC[bI];return false;}(bH))break;return bF;}}}}else return bA;}bx=bv.$TYPES;for(by=0,bz=B.length(bx)-1;by<=bz;by++)B.set(bx,by,n.lookup(B.get(bx,by)));return bw(bv.$DATA);};n.shallowMap=function(bv,bw){var bx,by;if(bw instanceof a.Array)return B.map(bv,bw);else if(typeof bw=="object"){bx={};for(var bz in bw)if(function(bA){bx[bA]=bv(bw[bA]);return false;}(bz))break;return bx;}else return bw;};n.lookup=function(bv){var bw,bx,by,bz,bA;by=B.length(bv);bw=a;bx=0;while(bx<by){bz=B.get(bv,bx);bA=bw[bz];!bi.Equals(typeof bA,void 0)?(bw=bA,bx=bx+1):_5.FailWith("Invalid server reply. Failed to find type: "+bz);}return bw;};p=o.XhrProvider=bt.Class({Sync:function(bv,bw,bx){var by;by=[null];o.ajax(false,bv,bw,bx,function(bz){by[0]=bz;},function(bz){throw bz;},function(){o.ajax(false,bv,bw,bx,function(bz){by[0]=bz;},function(bz){throw bz;},void 0);});return by[0];},Async:function(bv,bw,bx,by,bz){o.ajax(true,bv,bw,bx,by,bz,function(){o.ajax(true,bv,bw,bx,by,bz,void 0);});}},null,p);p.New=bt.Ctor(function(){},p);q=o.AjaxRemotingProvider=bt.Class({get_EndPoint:function(){return o.EndPoint();},AsyncBase:function(bv,bw){var bx;bx=this;return t.Delay(function(){var by,bz,bA;by=o.makeHeaders(bv);bz=o.makePayload(bw);bA=t.GetCT();return t.Bind(bA,function(bB){return t.FromContinuations(function(bC,bD,bE){var bF,bG,bH,bI;bF=[true];bG=(bH=function(){return bF[0]?(bF[0]=false,bE(new Q.New(bB))):null;},t.Register(bB,function(){bH();}));bI=bx.get_EndPoint();return o.AjaxProvider().Async(bI,by,bz,function(bJ){if(bF[0]){bF[0]=false;bG.Dispose();bC(n.Activate(a.JSON.parse(bJ)));}},function(bJ){if(bF[0]){bF[0]=false;bG.Dispose();bD(bJ);}});});});});},Send:function(bv,bw){var bx;bx=this.AsyncBase(bv,bw);t.Start(bx,null);},Task:function(bv,bw){var bx;bx=this.AsyncBase(bv,bw);return t.StartAsTask(bx,null);},Async:function(bv,bw){return this.AsyncBase(bv,bw);},Sync:function(bv,bw){var bx,by,bz,bA;bx=(by=this.get_EndPoint(),(bz=o.makeHeaders(bv),(bA=o.makePayload(bw),o.AjaxProvider().Sync(by,bz,bA))));return n.Activate(a.JSON.parse(bx));}},null,q);q.New=bt.Ctor(function(){},q);o.ajax=function(bv,bw,bx,by,bz,bA,bB){var bC,bD,bE;bC=new a.XMLHttpRequest();bD=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");bC.open("POST",bw,bv);if(bv==true)bC.withCredentials=true;for(var bG in bx)bC.setRequestHeader(bG,bx[bG]);if(bD)bC.setRequestHeader("x-csrftoken",bD);function bF(){var bH;if(bC.status==200)bz(bC.responseText);else if(bB&&bC.status==403&&bC.responseText=="CSRF")bB();else{bH="Response status is not 200: ";bA(new a.Error(bH+bC.status));}}if("onload"in bC)bC.onload=bC.onerror=bC.onabort=bF;else bC.onreadystatechange=function(){if(bC.readyState==4)bF();};bC.send(by);};o.makePayload=function(bv){return a.JSON.stringify(bv);};o.makeHeaders=function(bv){return{"x-websharper-rpc":bv,"content-type":"application/json"};};o.AjaxProvider=function(){r.$cctor();return r.AjaxProvider;};o.set_AjaxProvider=function(bv){r.$cctor();r.AjaxProvider=bv;};o.UseHttps=function(){var bv,bw;try{return!(bv=a.window.location.href,be.StartsWith(bv,"https://"))?(o.set_EndPoint((bw=a.window.location.href,be.Replace(bw,"http://","https://"))),true):false;}catch(bx){return false;}};o.EndPoint=function(){r.$cctor();return r.EndPoint;};o.set_EndPoint=function(bv){r.$cctor();r.EndPoint=bv;};r.$cctor=bt.Cctor(function(){r.EndPoint="?";r.AjaxProvider=new p.New();r.$cctor=a.ignore;});s.prettyPrint=function(bv){var bw,bx,by,bz,bA;return bv===null?"null":(bw=typeof bv,bw=="string"?"\""+bv+"\"":bw=="object"?bv instanceof a.Array?"[|"+(bx=B.map(s.prettyPrint,bv),be.concat("; ",bx))+"|]":(by=a.String(bv),by==="[object Object]"?"{"+(bz=(bA=function(bB,bC){return bB+" = "+s.prettyPrint(bC);},function(bB){return B.map(function(bC){return bA(bC[0],bC[1]);},bB);}(d.GetFields(bv))),be.concat("; ",bz))+"}":by):a.String(bv));};s.printArray2D=function(bv,bw){return bw===null?"null":"[["+be.concat("][",C.delay(function(){var bx;bx=bw.length?bw[0].length:0;return C.map(function(by){return be.concat("; ",C.delay(function(){return C.map(function(bz){return bv(B.get2D(bw,by,bz));},_5.range(0,bx-1));}));},_5.range(0,bw.length-1));}))+"]]";};s.printArray=function(bv,bw){var bx;return bw===null?"null":"[|"+(bx=B.map(bv,bw),be.concat("; ",bx))+"|]";};s.printList=function(bv,bw){return"["+be.concat("; ",C.map(bv,bw))+"]";};s.padNumLeft=function(bv,bw){var bx,by;bx=B.get(bv,0);return((bx===" "?true:bx==="+")?true:bx==="-")?bx+(by=bv.substr(1),be.PadLeftWith(by,bw-1,48)):be.PadLeftWith(bv,bw,48);};s.spaceForPos=function(bv,bw){return 0<=bv?" "+bw:bw;};s.plusForPos=function(bv,bw){return 0<=bv?"+"+bw:bw;};s.toSafe=function(bv){return bv==null?"":bv;};u=t.Scheduler=bt.Class({tick:function(){var bv,bw,bx,by,bz;bw=this;bx=a.Date.now();bv=true;while(bv){by=this.robin.length;by===0?(this.idle=true,bv=false):((this.robin.shift())(),a.Date.now()-bx>40?(bz=a.setTimeout(function(){bw.tick();},0),bv=false):void 0);}},Fork:function(bv){var bw,bx;bw=this;this.robin.push(bv);this.idle?(this.idle=false,bx=a.setTimeout(function(){bw.tick();},0)):void 0;}},null,u);u.New=bt.Ctor(function(){this.idle=true;this.robin=[];},u);t.For=function(bv,bw){return t.Using(w.Get(bv),function(bx){return t.While(function(){return bx.MoveNext();},t.Delay(function(){return bw(bx.Current());}));});};t.While=function(bv,bw){return bv()?t.Bind(bw,function(){return t.While(bv,bw);}):t.Return();};t.Using=function(bv,bw){return t.TryFinally(bw(bv),function(){bv.Dispose();});};t.TryCancelled=function(bv,bw){return function(bx){bv({k:function(by){if(by.$==2){bw(by.$0);bx.k(by);}else bx.k(by);},ct:bx.ct});};};t.OnCancel=function(bv){return function(bw){bw.k({$:0,$0:t.Register(bw.ct,bv)});};};t.StartChild=function(bv,bw,bx){var by,bz,bA,bB;by=[true];bz=[null];bA=[];bB=(bw!=null?bw.$==1:false)?{$:1,$0:a.setTimeout(function(){var bC;by[0]=false;bC={$:1,$0:new V.New()};while(bA.length>0)(bA.shift())(bC);},bw.$0)}:null;t.scheduler().Fork(function(){if(!bx.ct.c)bv({k:function(bC){if(by[0]){bz[0]={$:1,$0:bC};(bB!=null?bB.$==1:false)?a.clearTimeout(bB.$0):void 0;while(bA.length>0)(bA.shift())(bC);}},ct:bx.ct});});bx.k({$:0,$0:function(bC){var bD;if(by[0]){bD=bz[0];bD==null?bA.push(bC.k):bC.k(bD.$0);}else bC.k({$:1,$0:new V.New()});}});};t.Parallel=function(bv){var bw;bw=B.ofSeq(bv);return B.length(bw)===0?t.Return([]):function(bx){var by,bz,bA,bB;by=bw.length;bz=[by];bA=new a.Array(by);bB=function(bC,bD){var bE,bF;bF=bz[0];switch(bF===0?0:bF===1?bD.$==0?1:(bE=[bF,bD],3):bD.$==0?2:(bE=[bF,bD],3)){case 0:return null;break;case 1:B.set(bA,bC,bD.$0);bz[0]=0;return bx.k({$:0,$0:bA});break;case 2:B.set(bA,bC,bD.$0);bz[0]=bF-1;break;case 3:bz[0]=0;return bx.k(bE[1]);break;}};B.iteri(function(bC,bD){return t.scheduler().Fork(function(){bD({k:function(bE){return bB(bC,bE);},ct:bx.ct});});},bw);};};t.Sleep=function(bv){return function(bw){var bx,by,bz,bA;function bB(){return a.setTimeout(function(){_1.Force(by).Dispose();t.scheduler().Fork(function(){bw.k({$:0,$0:null});});},bv);}function bC(){return t.Register(bw.ct,function(){var bD;bD=_1.Force(bx);a.clearTimeout(bD);t.scheduler().Fork(function(){t.cancel(bw);});});}bx=_1.Create(bB);by=_1.Create(bC);bz=_1.Force(bx);bA=_1.Force(by);};};t.StartAsTask=function(bv,bw){var bx;bx=new bh.New();t.StartWithContinuations(bv,function(by){bx.SetResult(by);},function(by){bx.SetException$1(by);},function(){bx.SetCanceled();},bw);return bx.get_Task();};t.AwaitTask1=function(bv){return t.FromContinuations(function(bw,bx,by){var bz;bi.Equals(bv.get_Status(),0)?bv.Start():void 0;return bz=bv.ContinueWith$2(function(bA){return bA.get_IsCanceled()?by(new Q.New(t.noneCT())):bA.get_IsFaulted()?bx(bA.get_Exception()):bw(bA.get_Result());});});};t.AwaitTask=function(bv){return t.FromContinuations(function(bw,bx,by){var bz;bi.Equals(bv.get_Status(),0)?bv.Start():void 0;return bz=bv.ContinueWith$2(function(bA){return bA.get_IsCanceled()?by(new Q.New(t.noneCT())):bA.get_IsFaulted()?bx(bA.get_Exception()):bw();});});};t.AwaitEvent=function(bv,bw){return function(bx){var by,bz,bA,bB;function bC(){return H.subscribeTo(bv,function(bE){_1.Force(by).Dispose();_1.Force(bz).Dispose();t.scheduler().Fork(function(){bx.k({$:0,$0:bE});});});}function bD(){return t.Register(bx.ct,function(){if(bw!=null?bw.$==1:false)bw.$0();else{_1.Force(by).Dispose();t.scheduler().Fork(function(){t.cancel(bx);});}});}by=_1.Create(bC);bz=_1.Create(bD);bA=_1.Force(by);bB=_1.Force(bz);};};t.StartImmediate=function(bv,bw){var bx;bx=_5.DefaultArg(bw,(t.defCTS())[0]);!bx.c?bv({k:function(by){if(by.$==1)t.UncaughtAsyncError(by.$0);},ct:bx}):void 0;};t.Start=function(bv,bw){var bx;bx=_5.DefaultArg(bw,(t.defCTS())[0]);t.scheduler().Fork(function(){if(!bx.c)bv({k:function(by){if(by.$==1)t.UncaughtAsyncError(by.$0);},ct:bx});});};t.UncaughtAsyncError=function(bv){a.console.log.apply(a.console,["WebSharper: Uncaught asynchronous exception"].concat([bv]));};t.StartWithContinuations=function(bv,bw,bx,by,bz){var bA;bA=_5.DefaultArg(bz,(t.defCTS())[0]);!bA.c?bv({k:function(bB){if(bB.$==1)bx(bB.$0);else if(bB.$==2)by(bB.$0);else bw(bB.$0);},ct:bA}):void 0;};t.FromContinuations=function(bv){return function(bw){var bx,by;bx=[false];by=function(bz){if(bx[0])_5.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bx[0]=true;t.scheduler().Fork(bz);}};bv(function(bz){by(function(){bw.k({$:0,$0:bz});});},function(bz){by(function(){bw.k({$:1,$0:bz});});},function(bz){by(function(){bw.k({$:2,$0:bz});});});};};t.GetCT=function(){v.$cctor();return v.GetCT;};t.Catch=function(bv){return function(bw){try{bv({k:function(bx){if(bx.$==0)bw.k({$:0,$0:{$:0,$0:bx.$0}});else if(bx.$==1)bw.k({$:0,$0:{$:1,$0:bx.$0}});else bw.k(bx);},ct:bw.ct});}catch(bx){bw.k({$:0,$0:{$:1,$0:bx}});}};};t.TryWith=function(bv,bw){return function(bx){bv({k:function(by){if(by.$==0)bx.k({$:0,$0:by.$0});else if(by.$==1)try{(bw(by.$0))(bx);}catch(bz){bx.k(by);}else bx.k(by);},ct:bx.ct});};};t.TryFinally=function(bv,bw){return function(bx){bv({k:function(by){try{bw();bx.k(by);}catch(bz){bx.k({$:1,$0:bz});}},ct:bx.ct});};};t.Delay=function(bv){return function(bw){try{(bv(null))(bw);}catch(bx){bw.k({$:1,$0:bx});}};};t.Combine=function(bv,bw){return t.Bind(bv,function(){return bw;});};t.Bind=function(bv,bw){return t.checkCancel(function(bx){bv({k:function(by){var bz;if(by.$==0){bz=by.$0;t.scheduler().Fork(function(){try{(bw(bz))(bx);}catch(bA){bx.k({$:1,$0:bA});}});}else t.scheduler().Fork(function(){bx.k(by);});},ct:bx.ct});});};t.Return=function(bv){return function(bw){bw.k({$:0,$0:bv});};};t.checkCancel=function(bv){return function(bw){if(bw.ct.c)t.cancel(bw);else bv(bw);};};t.cancel=function(bv){bv.k({$:2,$0:new Q.New(bv.ct)});};t.defCTS=function(){v.$cctor();return v.defCTS;};t.scheduler=function(){v.$cctor();return v.scheduler;};t.Register=function(bv,bw){var bx;return bv===t.noneCT()?{Dispose:function(){return null;}}:(bx=bv.r.push(bw)-1,{Dispose:function(){return B.set(bv.r,bx,function(){});}});};t.noneCT=function(){v.$cctor();return v.noneCT;};v.$cctor=bt.Cctor(function(){v.noneCT={c:false,r:[]};v.scheduler=new u.New();v.defCTS=[new F.New()];v.GetCT=function(bv){bv.k({$:0,$0:bv.ct});};v.$cctor=a.ignore;});x=w.T=bt.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},null,x);x.New=bt.Ctor(function(bv,bw,bx,by){this.s=bv;this.c=bw;this.n=bx;this.d=by;},x);w.Get0=function(bv){return bv instanceof a.Array?w.ArrayEnumerator(bv):bi.Equals(typeof bv,"string")?w.StringEnumerator(bv):"GetEnumerator0"in bv?bv.GetEnumerator0():bv.GetEnumerator();};w.Get=function(bv){return bv instanceof a.Array?w.ArrayEnumerator(bv):bi.Equals(typeof bv,"string")?w.StringEnumerator(bv):bv.GetEnumerator();};w.StringEnumerator=function(bv){return new x.New(0,null,function(bw){var bx;bx=bw.s;return bx<bv.length?(bw.c=bv.charCodeAt(bx),bw.s=bx+1,true):false;},void 0);};w.ArrayEnumerator=function(bv){return new x.New(0,null,function(bw){var bx;bx=bw.s;return bx<B.length(bv)?(bw.c=B.get(bv,bx),bw.s=bx+1,true):false;},void 0);};z=y.SingleNode=bt.Class({ReplaceInDom:function(bv){var bw;bw=this.node.parentNode.replaceChild(this.node,bv);}},null,z);z.New=bt.Ctor(function(bv){this.node=bv;},z);A.hasDocument=function(){return typeof a.document!=="undefined";};A.Activate=function(){var bv,bw;if(A.hasDocument()){bv=a.document.getElementById("websharper-data");bv?(bw=a.document,a.jQuery(bw)).ready(function(){var bx,by,bz;bx=bv.getAttribute("content");by=n.Activate(a.JSON.parse(bx));bz=function(bA,bB){var bC;bC=bB.Body();bC.ReplaceInDom(a.document.getElementById(bA));};return function(bA){B.iter(function(bB){return bz(bB[0],bB[1]);},bA);}(d.GetFields(by));}):void 0;}};B.splitInto=function(bv,bw){var bx,by,bz,bA,bB,bC,bD,bE,bF;if(bv<=0)_5.FailWith("Count must be positive");by=B.length(bw);if(by===0)return[];else{bz=_5.Min(bv,by);bA=B.create(bz,null);bB=by/bz>>0;bx=0;for(bC=0,bD=by%bz-1;bC<=bD;bC++){bA[bC]=B.sub(bw,bx,bB+1);bx=bx+bB+1;}for(bE=by%bz,bF=bz-1;bE<=bF;bE++){bA[bE]=B.sub(bw,bx,bB);bx=bx+bB;}return bA;}};B.contains=function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=B.length(bw);while(bx?by<bA:false)if(bi.Equals(bw[by],bv))bx=false;else by=by+1;return!bx;};B.tryFindBack=function(bv,bw){var bx,by,bz;bx=null;by=bw.length-1;while(by>=0?bx==null:false){bz=bw[by];bv(bz)?bx={$:1,$0:bz}:void 0;by=by-1;}return bx;};B.tryFindIndexBack=function(bv,bw){var bx,by;bx=null;by=bw.length-1;while(by>=0?bx==null:false){bv(B.get(bw,by))?bx={$:1,$0:by}:void 0;by=by-1;}return bx;};B.mapFold=function(bv,bw,bx){var by,bz,bA,bB,bC,bD;bA=(by=bx.length,new a.Array(by));bz=bw;for(bB=0,bC=bx.length-1;bB<=bC;bB++){bD=bv(bz,bx[bB]);bA[bB]=bD[0];bz=bD[1];}return[bA,bz];};B.mapFoldBack=function(bv,bw,bx){var by,bz,bA,bB,bC,bD,bE,bF,bG;bB=(by=bw.length,new a.Array(by));bz=bx;bC=bw.length;for(bD=1,bE=bC;bD<=bE;bD++){bF=bC-bD;bG=bv(bw[bF],bz);bB[bF]=bG[0];bz=bG[1];}return[bB,bz];};B.mapInPlace=function(bv,bw){var bx,by;for(bx=0,by=bw.length-1;bx<=by;bx++)bw[bx]=bv(bw[bx]);};B.mapiInPlace=function(bv,bw){var bx,by;for(bx=0,by=bw.length-1;bx<=by;bx++)bw[bx]=bv(bx,bw[bx]);return bw;};B.sortInPlaceByDescending=function(bv,bw){var bx,by;bx=function(bz){return bz[0];};(function(bz){B.mapInPlace(bx,bz);}((by=B.mapiInPlace(function(bz,bA){return[bA,[bv(bA),bz]];},bw),by.sort(function(bz,bA){return-_5.Compare(bz[1],bA[1]);}))));};C.tryHead=function(bv){var bw;bw=w.Get(bv);try{return bw.MoveNext()?{$:1,$0:bw.Current()}:null;}finally{if("Dispose"in bw)bw.Dispose();}};C.tryItem=function(bv,bw){var bx,by,bz;if(bv<0)return null;else{bx=0;by=w.Get(bw);try{bz=true;while(bz?bx<=bv:false)if(by.MoveNext())bx=bx+1;else bz=false;return bz?{$:1,$0:by.Current()}:null;}finally{if("Dispose"in by)by.Dispose();}}};C.tryLast=function(bv){var bw,bx;bw=w.Get(bv);try{if(bw.MoveNext()){while(bw.MoveNext());bx={$:1,$0:bw.Current()};}else bx=null;return bx;}finally{if("Dispose"in bw)bw.Dispose();}};C.chunkBySize=function(bv,bw){bv<=0?_5.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var bx;bx=w.Get(bw);return new x.New(null,null,function(by){var bz,bA;if(bx.MoveNext()){bz=[bx.Current()];while(B.length(bz)<bv?bx.MoveNext():false){bA=bz.push(bx.Current());}by.c=bz;return true;}else return false;},function(){bx.Dispose();});}};};B.countBy=function(bv,bw){var bx,by,bz,bA,bB,bC,bD;by=new N.New$5();bz=a.Array.prototype.constructor.apply(a.Array,[]);for(bA=0,bB=B.length(bw)-1;bA<=bB;bA++){bC=bv(bw[bA]);by.ContainsKey(bC)?by.set_Item(bC,by.get_Item(bC)+1):(bD=bz.push(bC),by.Add(bC,1));}bx=function(bE){return[bE,by.get_Item(bE)];};(function(bE){B.mapInPlace(bx,bE);}(bz));return bz;};C.except=function(bv,bw){return{GetEnumerator:function(){var bx,by;bx=w.Get(bw);by=new _0.New$2(bv);return new x.New(null,null,function(bz){var bA,bB;if(bx.MoveNext()){bA=bx.Current();bB=by.Add(bA);while(!bB?bx.MoveNext():false){bA=bx.Current();bB=by.Add(bA);}return bB?(bz.c=bA,true):false;}else return false;},function(){bx.Dispose();});}};};D.skip=function(bv,bw){var bx,by,bz;bx=bw;for(by=1,bz=bv;by<=bz;by++)if(bx.$==0)_5.FailWith("Input list too short.");else bx=bx.$1;return bx;};B.groupBy=function(bv,bw){var bx,by,bz,bA,bB,bC,bD,bE,bF;by=new N.New$5();bz=a.Array.prototype.constructor.apply(a.Array,[]);for(bA=0,bB=B.length(bw)-1;bA<=bB;bA++){bC=bw[bA];bD=bv(bC);by.ContainsKey(bD)?bE=by.get_Item(bD).push(bC):(bF=bz.push(bD),by.Add(bD,[bC]));}bx=function(bG){return[bG,by.get_Item(bG)];};(function(bG){B.mapInPlace(bx,bG);}(bz));return bz;};C.insufficient=function(){return _5.FailWith("The input sequence has an insufficient number of elements.");};C.last=function(bv){var bw,bx;bw=w.Get(bv);try{if(!bw.MoveNext())bx=C.insufficient();else{while(bw.MoveNext());bx=bw.Current();}return bx;}finally{if("Dispose"in bw)bw.Dispose();}};C.contains=function(bv,bw){var bx,by;bx=w.Get(bw);try{by=false;while(!by?bx.MoveNext():false)by=bi.Equals(bx.Current(),bv);return by;}finally{if("Dispose"in bx)bx.Dispose();}};D.skipWhile=function(bv,bw){var bx;bx=bw;while(!(bx.$==0)?bv(D.head(bx)):false)bx=D.tail(bx);return bx;};C.nonNegative=function(){return _5.FailWith("The input must be non-negative.");};B.checkBounds=function(bv,bw){if(bw<0?true:bw>=bv.length)_5.FailWith("Index was outside the bounds of the array.");};B.checkBounds2D=function(bv,bw,bx){if(((bw<0?true:bx<0)?true:bw>=bv.length)?true:bx>=(bv.length?bv[0].length:0))throw new P.New();};B.checkRange=function(bv,bw,bx){if((bx<0?true:bw<0)?true:bv.length<bw+bx)_5.FailWith("Index was outside the bounds of the array.");};B.set=function(bv,bw,bx){B.checkBounds(bv,bw);bv[bw]=bx;};B.get=function(bv,bw){B.checkBounds(bv,bw);return bv[bw];};B.sub=function(bv,bw,bx){B.checkRange(bv,bw,bx);return bv.slice(bw,bw+bx);};B.setSub=function(bv,bw,bx,by){var bz,bA;for(bz=0,bA=bx-1;bz<=bA;bz++)B.set(bv,bw+bz,B.get(by,bz));};B.get2D=function(bv,bw,bx){B.checkBounds2D(bv,bw,bx);return bv[bw][bx];};B.set2D=function(bv,bw,bx,by){B.checkBounds2D(bv,bw,bx);bv[bw][bx]=by;};B.zeroCreate2D=function(bv,bw){var bx;bx=B.init(bv,function(){return B.create(bw,null);});bx.dims=2;return bx;};B.sub2D=function(bv,bw,bx,by,bz){var bA,bB,bC,bD,bE,bF,bG;bA=by<0?0:by;bB=bz<0?0:bz;bC=B.zeroCreate2D(bA,bB);for(bD=0,bE=bA-1;bD<=bE;bD++){for(bF=0,bG=bB-1;bF<=bG;bF++)B.set2D(bC,bD,bF,B.get2D(bv,bw+bD,bx+bF));}return bC;};B.setSub2D=function(bv,bw,bx,by,bz,bA){var bB,bC,bD,bE;for(bB=0,bC=by-1;bB<=bC;bB++){for(bD=0,bE=bz-1;bD<=bE;bD++)B.set2D(bv,bw+bB,bx+bD,B.get2D(bA,bB,bD));}};B.length=function(bv){return bv.dims===2?bv.length*bv.length:bv.length;};b.checkThis=function(bv){return bi.Equals(bv,null)?_5.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):bv;};B.reverse=function(bv,bw,bx){var by;by=B.sub(bv,bw,bx).slice().reverse();B.blit(by,0,bv,bw,B.length(by));};B.sum=function(bv){var bw,bx;bw=0;bx=0;for(;bx<bv.length;bx++)bw+=bv[bx];return bw;};B.sumBy=function(bv,bw){var bx,by;bx=0;by=0;for(;by<bw.length;by++)bx+=bv(bw[by]);return bx;};B.average=function(bv){var bw,bx;return(bw=B.sum(bv),a.Number(bw))/(bx=bv.length,a.Number(bx));};B.averageBy=function(bv,bw){var bx,by;return(bx=B.sumBy(bv,bw),a.Number(bx))/(by=bw.length,a.Number(by));};B.blit=function(bv,bw,bx,by,bz){var bA,bB;B.checkRange(bv,bw,bz);B.checkRange(bx,by,bz);for(bA=0,bB=bz-1;bA<=bB;bA++)bx[by+bA]=bv[bw+bA];};B.choose=function(bv,bw){var bx,by,bz,bA;bx=[];for(by=0,bz=bw.length-1;by<=bz;by++){bA=bv(bw[by]);bA==null?void 0:bx.push(bA.$0);}return bx;};B.collect=function(bv,bw){var bx;bx=B.map(bv,bw);return a.Array.prototype.concat.apply([],bx);};B.concat=function(bv){var bw;bw=B.ofSeq(bv);return a.Array.prototype.concat.apply([],bw);};B.create=function(bv,bw){var bx,by,bz;bx=new a.Array(bv);for(by=0,bz=bv-1;by<=bz;by++)bx[by]=bw;return bx;};B.exists=function(bv,bw){var bx,by,bz,bA;bx=false;by=0;bA=B.length(bw);while(!bx?by<bA:false)if(bv(bw[by]))bx=true;else by=by+1;return bx;};B.exists2=function(bv,bw,bx){var by,bz,bA,bB;B.checkLength(bw,bx);by=false;bz=0;bB=B.length(bw);while(!by?bz<bB:false)if(bv(bw[bz],bx[bz]))by=true;else bz=bz+1;return by;};B.fill=function(bv,bw,bx,by){var bz,bA;B.checkRange(bv,bw,bx);for(bz=bw,bA=bw+bx-1;bz<=bA;bz++)bv[bz]=by;};B.filter=function(bv,bw){var bx,by,bz;bx=[];for(by=0,bz=bw.length-1;by<=bz;by++)if(bv(bw[by]))bx.push(bw[by]);return bx;};B.find=function(bv,bw){var bx;bx=B.tryFind(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};B.findIndex=function(bv,bw){var bx;bx=B.tryFindIndex(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};B.fold=function(bv,bw,bx){var by,bz,bA;by=bw;for(bz=0,bA=bx.length-1;bz<=bA;bz++)by=bv(by,bx[bz]);return by;};B.fold2=function(bv,bw,bx,by){var bz,bA,bB;B.checkLength(bx,by);bz=bw;for(bA=0,bB=bx.length-1;bA<=bB;bA++)bz=bv(bz,bx[bA],by[bA]);return bz;};B.foldBack=function(bv,bw,bx){var by,bz,bA,bB,bC;by=bx;bA=bw.length;for(bB=1,bC=bA;bB<=bC;bB++)by=bv(bw[bA-bB],by);return by;};B.foldBack2=function(bv,bw,bx,by){var bz,bA,bB,bC,bD;B.checkLength(bw,bx);bB=bw.length;bA=by;for(bC=1,bD=bB;bC<=bD;bC++)bA=bv(bw[bB-bC],bx[bB-bC],bA);return bA;};B.forall=function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=B.length(bw);while(bx?by<bA:false)if(bv(bw[by]))by=by+1;else bx=false;return bx;};B.forall2=function(bv,bw,bx){var by,bz,bA,bB;B.checkLength(bw,bx);by=true;bz=0;bB=B.length(bw);while(by?bz<bB:false)if(bv(bw[bz],bx[bz]))bz=bz+1;else by=false;return by;};B.init=function(bv,bw){var bx,by,bz;bv<0?_5.FailWith("Negative size given."):null;bx=new a.Array(bv);for(by=0,bz=bv-1;by<=bz;by++)bx[by]=bw(by);return bx;};B.iter=function(bv,bw){var bx,by;for(bx=0,by=bw.length-1;bx<=by;bx++)bv(bw[bx]);};B.iter2=function(bv,bw,bx){var by,bz;B.checkLength(bw,bx);for(by=0,bz=bw.length-1;by<=bz;by++)bv(bw[by],bx[by]);};B.iteri=function(bv,bw){var bx,by;for(bx=0,by=bw.length-1;bx<=by;bx++)bv(bx,bw[bx]);};B.iteri2=function(bv,bw,bx){var by,bz;B.checkLength(bw,bx);for(by=0,bz=bw.length-1;by<=bz;by++)bv(by,bw[by],bx[by]);};B.map=function(bv,bw){var bx,by,bz,bA;by=(bx=bw.length,new a.Array(bx));for(bz=0,bA=bw.length-1;bz<=bA;bz++)by[bz]=bv(bw[bz]);return by;};B.map2=function(bv,bw,bx){var by,bz,bA,bB;B.checkLength(bw,bx);bz=(by=bx.length,new a.Array(by));for(bA=0,bB=bx.length-1;bA<=bB;bA++)bz[bA]=bv(bw[bA],bx[bA]);return bz;};B.mapi=function(bv,bw){var bx,by,bz,bA;by=(bx=bw.length,new a.Array(bx));for(bz=0,bA=bw.length-1;bz<=bA;bz++)by[bz]=bv(bz,bw[bz]);return by;};B.mapi2=function(bv,bw,bx){var by,bz,bA,bB;B.checkLength(bw,bx);bz=(by=bw.length,new a.Array(by));for(bA=0,bB=bw.length-1;bA<=bB;bA++)bz[bA]=bv(bA,bw[bA],bx[bA]);return bz;};B.max=function(bv){return B.reduce(_5.Max,bv);};B.maxBy=function(bv,bw){return B.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))===1?bx:by;},bw);};B.min=function(bv){return B.reduce(_5.Min,bv);};B.minBy=function(bv,bw){return B.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))===-1?bx:by;},bw);};B.ofList=function(bv){var bw,bx;bx=[];bw=bv;while(!(bw.$==0)){bx.push(D.head(bw));bw=D.tail(bw);}return bx;};B.ofSeq=function(bv){var bw,bx;if(bv instanceof a.Array)return bv.slice();else if(bv instanceof _2)return B.ofList(bv);else{bw=[];bx=w.Get(bv);try{while(bx.MoveNext())bw.push(bx.Current());return bw;}finally{if("Dispose"in bx)bx.Dispose();}}};B.partition=function(bv,bw){var bx,by,bz,bA;bx=[];by=[];for(bz=0,bA=bw.length-1;bz<=bA;bz++)if(bv(bw[bz]))bx.push(bw[bz]);else by.push(bw[bz]);return[bx,by];};B.permute=function(bv,bw){var bx,by,bz,bA;by=(bx=bw.length,new a.Array(bx));for(bz=0,bA=bw.length-1;bz<=bA;bz++)by[bv(bz)]=bw[bz];return by;};B.pick=function(bv,bw){var bx;bx=B.tryPick(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};B.reduce=function(bv,bw){var bx,by,bz;B.nonEmpty(bw);bx=bw[0];for(by=1,bz=bw.length-1;by<=bz;by++)bx=bv(bx,bw[by]);return bx;};B.reduceBack=function(bv,bw){var bx,by,bz,bA,bB;B.nonEmpty(bw);bz=bw.length;by=bw[bz-1];for(bA=2,bB=bz;bA<=bB;bA++)by=bv(bw[bz-bA],by);return by;};B.scan=function(bv,bw,bx){var by,bz,bA,bB;bz=(by=1+bx.length,new a.Array(by));bz[0]=bw;for(bA=0,bB=bx.length-1;bA<=bB;bA++)bz[bA+1]=bv(bz[bA],bx[bA]);return bz;};B.scanBack=function(bv,bw,bx){var by,bz,bA,bB;by=bw.length;bz=new a.Array(1+by);bz[by]=bx;for(bA=0,bB=by-1;bA<=bB;bA++)bz[by-bA-1]=bv(bw[by-bA-1],bz[by-bA]);return bz;};B.sort=function(bv){var bw,bx;bw=function(by){return by[0];};return function(by){return B.map(bw,by);}((bx=B.mapi(function(by,bz){return[bz,by];},bv),bx.sort(_5.Compare)));};B.sortBy=function(bv,bw){var bx,by;bx=function(bz){return bz[0];};return function(bz){return B.map(bx,bz);}((by=B.mapi(function(bz,bA){return[bA,[bv(bA),bz]];},bw),by.sort(function(bz,bA){return _5.Compare(bz[1],bA[1]);})));};B.sortInPlace=function(bv){var bw,bx;bw=function(by){return by[0];};(function(by){B.mapInPlace(bw,by);}((bx=B.mapiInPlace(function(by,bz){return[bz,by];},bv),bx.sort(_5.Compare))));};B.sortInPlaceBy=function(bv,bw){var bx,by;bx=function(bz){return bz[0];};(function(bz){B.mapInPlace(bx,bz);}((by=B.mapiInPlace(function(bz,bA){return[bA,[bv(bA),bz]];},bw),by.sort(function(bz,bA){return _5.Compare(bz[1],bA[1]);}))));};B.sortInPlaceWith=function(bv,bw){var bx;bx=bw.sort(bv);};B.sortWith=function(bv,bw){return bw.slice().sort(bv);};B.sortByDescending=function(bv,bw){var bx,by;bx=function(bz){return bz[0];};return function(bz){return B.map(bx,bz);}((by=B.mapi(function(bz,bA){return[bA,[bv(bA),bz]];},bw),by.sort(function(bz,bA){return-_5.Compare(bz[1],bA[1]);})));};B.sortDescending=function(bv){var bw,bx;bw=function(by){return by[0];};return function(by){return B.map(bw,by);}((bx=B.mapi(function(by,bz){return[bz,by];},bv),bx.sort(function(by,bz){return-_5.Compare(by,bz);})));};B.tryFind=function(bv,bw){var bx,by;bx=null;by=0;while(by<bw.length?bx==null:false){bv(bw[by])?bx={$:1,$0:bw[by]}:void 0;by=by+1;}return bx;};B.tryFindIndex=function(bv,bw){var bx,by;bx=null;by=0;while(by<bw.length?bx==null:false){bv(bw[by])?bx={$:1,$0:by}:void 0;by=by+1;}return bx;};B.tryHead=function(bv){return bv.length===0?null:{$:1,$0:bv[0]};};B.tryItem=function(bv,bw){return(bw.length<=bv?true:bv<0)?null:{$:1,$0:bw[bv]};};B.tryLast=function(bv){var bw;bw=bv.length;return bw===0?null:{$:1,$0:bv[bw-1]};};B.tryPick=function(bv,bw){var bx,by,bz;bx=null;by=0;while(by<bw.length?bx==null:false){bz=bv(bw[by]);(bz!=null?bz.$==1:false)?bx=bz:void 0;by=by+1;}return bx;};B.unzip=function(bv){var bw,bx,by,bz,bA;bw=[];bx=[];for(by=0,bz=bv.length-1;by<=bz;by++){bA=bv[by];bw.push(bA[0]);bx.push(bA[1]);}return[bw,bx];};B.unzip3=function(bv){var bw,bx,by,bz,bA,bB;bw=[];bx=[];by=[];for(bz=0,bA=bv.length-1;bz<=bA;bz++){bB=bv[bz];bw.push(bB[0]);bx.push(bB[1]);by.push(bB[2]);}return[bw,bx,by];};B.zip=function(bv,bw){var bx,by,bz;B.checkLength(bv,bw);bx=B.create(bv.length,null);for(by=0,bz=bv.length-1;by<=bz;by++)bx[by]=[bv[by],bw[by]];return bx;};B.zip3=function(bv,bw,bx){var by,bz,bA;B.checkLength(bv,bw);B.checkLength(bw,bx);by=B.create(bv.length,null);for(bz=0,bA=bv.length-1;bz<=bA;bz++)by[bz]=[bv[bz],bw[bz],bx[bz]];return by;};B.chunkBySize=function(bv,bw){return B.ofSeq(C.chunkBySize(bv,bw));};B.compareWith=function(bv,bw,bx){return C.compareWith(bv,bw,bx);};B.distinct=function(bv){return B.ofSeq(C.distinct(bv));};B.distinctBy=function(bv,bw){return B.ofSeq(C.distinctBy(bv,bw));};B.except=function(bv,bw){return B.ofSeq(C.except(bv,bw));};B.findBack=function(bv,bw){var bx;bx=B.tryFindBack(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};B.findIndexBack=function(bv,bw){var bx;bx=B.tryFindIndexBack(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};B.head=function(bv){B.nonEmpty(bv);return bv[0];};B.last=function(bv){B.nonEmpty(bv);return bv[bv.length-1];};B.map3=function(bv,bw,bx,by){var bz,bA,bB,bC;B.checkLength(bw,bx);B.checkLength(bw,by);bA=(bz=by.length,new a.Array(bz));for(bB=0,bC=by.length-1;bB<=bC;bB++)bA[bB]=bv(bw[bB],bx[bB],by[bB]);return bA;};B.pairwise=function(bv){return B.ofSeq(C.pairwise(bv));};B.replicate=function(bv,bw){return B.create(bv,bw);};B.indexed=function(bv){return B.mapi(function(bw,bx){return[bw,bx];},bv);};B.skip=function(bv,bw){return bv<0?C.nonNegative():bv>bw.length?C.insufficient():bw.slice(bv);};B.skipWhile=function(bv,bw){var bx,by;by=bw.length;bx=0;while(bx<by?bv(bw[bx]):false)bx=bx+1;return bw.slice(bx);};B.tail=function(bv){return B.skip(1,bv);};B.take=function(bv,bw){return bv<0?C.nonNegative():bv>bw.length?C.insufficient():bw.slice(0,bv);};B.takeWhile=function(bv,bw){var bx,by;by=bw.length;bx=0;while(bx<by?bv(bw[bx]):false)bx=bx+1;return bw.slice(0,bx);};B.exactlyOne=function(bv){return bv.length===1?bv[0]:_5.FailWith("The input does not have precisely one element.");};B.unfold=function(bv,bw){return B.ofSeq(C.unfold(bv,bw));};B.windowed=function(bv,bw){return B.ofSeq(C.windowed(bv,bw));};B.splitAt=function(bv,bw){return[B.take(bv,bw),B.skip(bv,bw)];};B.nonEmpty=function(bv){if(bv.length===0)_5.FailWith("The input array was empty.");};B.checkLength=function(bv,bw){if(bv.length!==bw.length)_5.FailWith("The arrays have different lengths.");};E.init=function(bv,bw,bx){var by,bz,bA,bB,bC;by=B.zeroCreate2D(bv,bw);for(bz=0,bA=bv-1;bz<=bA;bz++){for(bB=0,bC=bw-1;bB<=bC;bB++)B.set2D(by,bz,bB,bx(bz,bB));}return by;};E.iter=function(bv,bw){var bx,by,bz,bA,bB,bC;bx=bw.length;by=bw.length?bw[0].length:0;for(bz=0,bA=bx-1;bz<=bA;bz++){for(bB=0,bC=by-1;bB<=bC;bB++)bv(B.get2D(bw,bz,bB));}};E.iteri=function(bv,bw){var bx,by,bz,bA,bB,bC;bx=bw.length;by=bw.length?bw[0].length:0;for(bz=0,bA=bx-1;bz<=bA;bz++){for(bB=0,bC=by-1;bB<=bC;bB++)bv(bz,bB,B.get2D(bw,bz,bB));}};E.map=function(bv,bw){return E.init(bw.length,bw.length?bw[0].length:0,function(bx,by){return bv(B.get2D(bw,bx,by));});};E.mapi=function(bv,bw){return E.init(bw.length,bw.length?bw[0].length:0,function(bx,by){return bv(bx,by,B.get2D(bw,bx,by));});};E.copy=function(bv){return E.init(bv.length,bv.length?bv[0].length:0,function(bw,bx){return B.get2D(bv,bw,bx);});};F=b.CancellationTokenSource=bt.Class({CancelAfter:function(bv){var bw,bx;bw=this;!this.c?(bx=this.pending,bx==null?void 0:a.clearTimeout(bx.$0),this.pending={$:1,$0:a.setTimeout(function(){bw.Cancel$1();},bv)}):void 0;},Cancel:function(bv){var bw;if(!bv)this.Cancel$1();else if(!this.c){this.c=true;bw=function(bx){bx();};(function(bx){B.iter(bw,bx);}(this.r));}},Cancel$1:function(){var bv,bw;if(!this.c){this.c=true;bw=(bv=function(bx){try{bx();return null;}catch(by){return{$:1,$0:by};}},function(bx){return B.choose(bv,bx);}(this.r));if(B.length(bw)>0)throw new U.New$3(bw);else void 0;}}},null,F);F.CreateLinkedTokenSource=function(bv,bw){return F.CreateLinkedTokenSource$1([bv,bw]);};F.CreateLinkedTokenSource$1=function(bv){var bw,bx;bw=new F.New();bx=function(by){var bz,bA;bz=(bA=function(){return bw.Cancel$1();},t.Register(by,function(){bA();}));};(function(by){B.iter(bx,by);}(bv));return bw;};F.New=bt.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},F);G.IsWhiteSpace=function(bv){return a.String.fromCharCode(bv).match(new a.RegExp("\\s"))!==null;};G.Parse=function(bv){return bv.length===1?bv.charCodeAt(0):_5.FailWith("String must be exactly one character long.");};G.IsUpper=function(bv){return bv>=65?bv<=90:false;};G.IsLower=function(bv){return bv>=97?bv<=122:false;};G.IsLetterOrDigit=function(bv){return G.IsLetter(bv)?true:G.IsDigit(bv);};G.IsLetter=function(bv){return(bv>=65?bv<=90:false)?true:bv>=97?bv<=122:false;};G.IsDigit=function(bv){return bv>=48?bv<=57:false;};G.IsControl=function(bv){return(bv>=0?bv<=31:false)?true:bv>=128?bv<=159:false;};G.GetNumericValue=function(bv){return(bv>=48?bv<=57:false)?a.Number(bv)-a.Number(48):-1;};H.addListener=function(bv,bw){var bx;bx=bv.Subscribe(H.observer(bw));};H.subscribeTo=function(bv,bw){return bv.Subscribe(H.observer(bw));};H.observer=function(bv){return{OnNext:bv,OnError:function(){return null;},OnCompleted:function(){return null;}};};I.LongTime=function(bv){return(new a.Date(bv)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};I.ShortTime=function(bv){return(new a.Date(bv)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};I.LongDate=function(bv){return(new a.Date(bv)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};I.Parse=function(bv){var bw;bw=I.TryParse(bv);return(bw!=null?bw.$==1:false)?bw.$0:_5.FailWith("Failed to parse date string.");};I.TryParse=function(bv){var bw;bw=a.Date.parse(bv);return a.isNaN(bw)?null:{$:1,$0:bw};};I.AddMonths=function(bv,bw){var bx,by,bz,bA,bB,bC,bD,bE;bx=new a.Date(bv);return(by=bx.getFullYear(),(bz=bx.getMonth()+bw,(bA=bx.getDate(),(bB=bx.getHours(),(bC=bx.getMinutes(),(bD=bx.getSeconds(),(bE=bx.getMilliseconds(),new a.Date(by,bz,bA,bB,bC,bD,bE)))))))).getTime();};I.AddYears=function(bv,bw){var bx,by,bz,bA,bB,bC,bD,bE;bx=new a.Date(bv);return(by=bx.getFullYear()+bw,(bz=bx.getMonth(),(bA=bx.getDate(),(bB=bx.getHours(),(bC=bx.getMinutes(),(bD=bx.getSeconds(),(bE=bx.getMilliseconds(),new a.Date(by,bz,bA,bB,bC,bD,bE)))))))).getTime();};I.TimePortion=function(bv){var bw;bw=new a.Date(bv);return(((24*0+bw.getHours())*60+bw.getMinutes())*60+bw.getSeconds())*1000+bw.getMilliseconds();};I.DatePortion=function(bv){var bw,bx,by,bz;bw=new a.Date(bv);return(bx=bw.getFullYear(),(by=bw.getMonth(),(bz=bw.getDate(),new a.Date(bx,by,bz)))).getTime();};J.InvocationList=function(bv){return bv.$Invokes||[bv];};J.RemoveAll=function(bv,bw){var bx,by;bx=J.InvocationList(bv);B.length(J.InvocationList(bw))>1?_5.FailWith("TODO: Remove multicast delegates"):void 0;return bt.CreateDelegate((by=function(bz){return!bi.Equals(bz,bw);},function(bz){return B.filter(by,bz);}(bx)));};J.Remove=function(bv,bw){var bx,by,bz,bA,bB,bC,bD,bE;bz=J.InvocationList(bv);if(B.length(J.InvocationList(bw))>1)_5.FailWith("TODO: Remove multicast delegates");bA=[];by=false;for(bB=B.length(bz)-1,bC=0;bB>=bC;bB--){bD=B.get(bz,bB);(!by?bt.DelegateEqual(bD,bw):false)?by=true:bE=bA.unshift(bD);}return bt.CreateDelegate(bA);};J.DelegateTarget=function(bv){var bw;return!bv?null:"$Target"in bv?bv.$Target:"$Invokes"in bv?(bw=bv.$Invokes,(B.get(bw,B.length(bw)-1))[1]):null;};K.getHashCode=function(bv,bw){return bv.CGetHashCode(bw);};K.equals=function(bv){return function(bw,bx){return bv.CEquals(bw,bx);};};K.alreadyAdded=function(){return _5.FailWith("An item with the same key has already been added.");};K.notPresent=function(){return _5.FailWith("The given key was not present in the dictionary.");};L=e.KeyCollection=bt.Class({GetEnumerator$1:function(){var bv;return w.Get((bv=function(bw){return bw.K;},function(bw){return C.map(bv,bw);}(this.d)));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,L);L.New=bt.Ctor(function(bv){this.d=bv;},L);M=e.ValueCollection=bt.Class({GetEnumerator$1:function(){var bv;return w.Get((bv=function(bw){return bw.V;},function(bw){return C.map(bv,bw);}(this.d)));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,M);M.New=bt.Ctor(function(bv){this.d=bv;},M);N=e.Dictionary=bt.Class({remove:function(bv){var bw,bx,by,bz,bA;bw=this;bx=this.hash(bv);by=this.data[bx];return by?(bz=(bA=function(bB){return!bw.equals.apply(null,[(_5.KeyValue(bB))[0],bv]);},function(bB){return B.filter(bA,bB);}(by)),B.length(bz)<by.length?(this.count=this.count-1,this.data[bx]=bz,true):false):false;},add:function(bv,bw){var bx,by,bz,bA,bB;bx=this;by=this.hash(bv);bz=this.data[by];bz?((bA=function(bC){return bx.equals.apply(null,[(_5.KeyValue(bC))[0],bv]);},function(bC){return B.exists(bA,bC);}(bz))?K.alreadyAdded():void 0,this.count=this.count+1,bB=bz.push({K:bv,V:bw})):(this.count=this.count+1,this.data[by]=new a.Array({K:bv,V:bw}));},set:function(bv,bw){var bx,by,bz,bA,bB,bC;bx=this;by=this.hash(bv);bz=this.data[by];bz?(bA=(bB=function(bD){return bx.equals.apply(null,[(_5.KeyValue(bD))[0],bv]);},function(bD){return B.tryFindIndex(bB,bD);}(bz)),bA==null?(this.count=this.count+1,bC=bz.push({K:bv,V:bw})):bz[bA.$0]={K:bv,V:bw}):(this.count=this.count+1,this.data[by]=new a.Array({K:bv,V:bw}));},get:function(bv){var bw,bx,by,bz;bw=this;bx=this.hash(bv);by=this.data[bx];return by?(bz=function(bA){var bB;bB=_5.KeyValue(bA);return bw.equals.apply(null,[bB[0],bv])?{$:1,$0:bB[1]}:null;},function(bA){return B.pick(bz,bA);}(by)):K.notPresent();},get_Keys:function(){return new L.New(this);},get_Values:function(){return new M.New(this);},TryGetValue:function(bv,bw){var bx,by,bz,bA,bB;bx=this;by=this.hash(bv);bz=this.data[by];return bz?(bA=(bB=function(bC){var bD;bD=_5.KeyValue(bC);return bx.equals.apply(null,[bD[0],bv])?{$:1,$0:bD[1]}:null;},function(bC){return B.tryPick(bB,bC);}(bz)),(bA!=null?bA.$==1:false)?(bw.set(bA.$0),true):false):false;},Remove:function(bv){return this.remove(bv);},GetEnumerator$1:function(){return w.Get0(this);},set_Item:function(bv,bw){this.set(bv,bw);},get_Item:function(bv){return this.get(bv);},ContainsKey:function(bv){var bw,bx,by,bz;bw=this;bx=this.hash(bv);by=this.data[bx];return by?(bz=function(bA){return bw.equals.apply(null,[(_5.KeyValue(bA))[0],bv]);},function(bA){return B.exists(bz,bA);}(by)):false;},Clear:function(){this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;},Add:function(bv,bw){this.add(bv,bw);},GetEnumerator:function(){return w.Get0(this);},GetEnumerator0:function(){var bv;bv=d.GetFieldValues(this.data);return w.Get0(B.concat(bv));}},null,N);N.New=bt.Ctor(function(bv,bw){N.New$6.call(this,bv,K.equals(bw),function(bx){return K.getHashCode(bw,bx);});},N);N.New$1=bt.Ctor(function(bv){N.New$6.call(this,bv,bi.Equals,bi.Hash);},N);N.New$2=bt.Ctor(function(bv,bw){N.New$3.call(this,bw);},N);N.New$3=bt.Ctor(function(bv){N.New$6.call(this,[],K.equals(bv),function(bw){return K.getHashCode(bv,bw);});},N);N.New$4=bt.Ctor(function(bv){N.New$5.call(this);},N);N.New$5=bt.Ctor(function(){N.New$6.call(this,[],bi.Equals,bi.Hash);},N);N.New$6=bt.Ctor(function(bv,bw,bx){var by,bz;this.equals=bw;this.hash=bx;this.count=0;this.data=[];by=w.Get(bv);try{while(by.MoveNext()){bz=by.Current();this.set(bz.K,bz.V);}}finally{if("Dispose"in by)by.Dispose();}},N);O=b.MatchFailureException=bt.Class({},null,O);O.New=bt.Ctor(function(bv,bw,bx){this.message=bv+" at "+a.String(bw)+":"+a.String(bx);},O);P=b.IndexOutOfRangeException=bt.Class({},null,P);P.New=bt.Ctor(function(){P.New$1.call(this,"Index was outside the bounds of the array.");},P);P.New$1=bt.Ctor(function(bv){this.message=bv;},P);Q=b.OperationCanceledException=bt.Class({},null,Q);Q.New=bt.Ctor(function(bv){Q.New$1.call(this,"The operation was canceled.",null,bv);},Q);Q.New$1=bt.Ctor(function(bv,bw,bx){this.message=bv;this.inner=bw;this.ct=bx;},Q);R=b.ArgumentException=bt.Class({},null,R);R.New=bt.Ctor(function(bv,bw){R.New$2.call(this,bw+"\nParameter name: "+bv);},R);R.New$1=bt.Ctor(function(){R.New$2.call(this,"Value does not fall within the expected range.");},R);R.New$2=bt.Ctor(function(bv){this.message=bv;},R);S=b.ArgumentOutOfRangeException=bt.Class({},null,S);S.New=bt.Ctor(function(){S.New$1.call(this,"Specified argument was out of the range of valid values.");},S);S.New$1=bt.Ctor(function(bv){this.message=bv;},S);T=b.InvalidOperationException=bt.Class({},null,T);T.New=bt.Ctor(function(){T.New$1.call(this,"Operation is not valid due to the current state of the object.");},T);T.New$1=bt.Ctor(function(bv){this.message=bv;},T);U=b.AggregateException=bt.Class({},null,U);U.New=bt.Ctor(function(bv,bw){U.New$4.call(this,bv,[bw]);},U);U.New$1=bt.Ctor(function(bv,bw){U.New$4.call(this,bv,B.ofSeq(bw));},U);U.New$2=bt.Ctor(function(bv){U.New$4.call(this,"One or more errors occurred.",B.ofSeq(bv));},U);U.New$3=bt.Ctor(function(bv){U.New$4.call(this,"One or more errors occurred.",bv);},U);U.New$4=bt.Ctor(function(bv,bw){this.message=bv;this.innerExceptions=bw;},U);V=b.TimeoutException=bt.Class({},null,V);V.New=bt.Ctor(function(){V.New$1.call(this,"The operation has timed out.");},V);V.New$1=bt.Ctor(function(bv){this.message=bv;},V);W=b.FormatException=bt.Class({},null,W);W.New=bt.Ctor(function(){W.New$1.call(this,"One of the identified items was in an invalid format.");},W);W.New$1=bt.Ctor(function(bv){this.message=bv;},W);X=b.OverflowException=bt.Class({},null,X);X.New=bt.Ctor(function(){X.New$1.call(this,"Arithmetic operation resulted in an overflow.");},X);X.New$1=bt.Ctor(function(bv){this.message=bv;},X);B.create2D=function(bv){var bw;bw=B.ofSeq(C.map(B.ofSeq,bv));bw.dims=2;return bw;};Y.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bv){var bw,bx;bw=a.Math.random()*16|0;bx=bv=="x"?bw:bw&3|8;return bx.toString(16);});};Z.concat=function(bv){var bw,bx;bw=[];for(var by in bv)bw.push.apply(bw,bv[by]);return bw;};_0=e.HashSet=bt.Class({add:function(bv){var bw,bx,by;bw=this.hash(bv);bx=this.data[bw];return bx==null?(this.data[bw]=[bv],this.count=this.count+1,true):this.arrContains(bv,bx)?false:(by=bx.push(bv),this.count=this.count+1,true);},arrRemove:function(bv,bw){var bx,by,bz,bA,bB;bx=true;by=0;bA=bw.length;while(bx?by<bA:false)if(this.equals.apply(null,[bw[by],bv])){bB=bw.splice.apply(bw,[by,1].concat([]));bx=false;}else by=by+1;return!bx;},arrContains:function(bv,bw){var bx,by,bz,bA;bx=true;by=0;bA=bw.length;while(bx?by<bA:false)if(this.equals.apply(null,[bw[by],bv]))bx=false;else by=by+1;return!bx;},UnionWith:function(bv){var bw,bx;bw=w.Get(bv);try{while(bw.MoveNext()){bx=this.Add(bw.Current());}}finally{if("Dispose"in bw)bw.Dispose();}},SymmetricExceptWith:function(bv){var bw,bx,by,bz;bw=w.Get(bv);try{while(bw.MoveNext()){bx=bw.Current();this.Contains(bx)?by=this.Remove(bx):bz=this.Add(bx);}}finally{if("Dispose"in bw)bw.Dispose();}},SetEquals:function(bv){var bw;bw=new _0.New$4(bv,this.equals,this.hash);return this.get_Count()===bw.get_Count()?this.IsSupersetOf(bw):false;},RemoveWhere:function(bv){var bw,bx,by,bz,bA;bx=Z.concat(this.data);bw=0;for(by=0,bz=bx.length-1;by<=bz;by++){bA=bx[by];bv(bA)?this.Remove(bA)?bw=bw+1:void 0:void 0;}return bw;},Remove:function(bv){var bw;bw=this.data[this.hash(bv)];return bw==null?false:this.arrRemove(bv,bw)?(this.count=this.count-1,true):false;},Overlaps:function(bv){var bw,bx;bw=this;bx=function(by){return bw.Contains(by);};return function(by){return C.exists(bx,by);}(bv);},IsSupersetOf:function(bv){var bw,bx;bw=this;bx=function(by){return bw.Contains(by);};return function(by){return C.forall(bx,by);}(bv);},IsSubsetOf:function(bv){var bw,bx;bw=new _0.New$4(bv,this.equals,this.hash);bx=function(by){return bw.Contains(by);};return function(by){return B.forall(bx,by);}(Z.concat(this.data));},IsProperSupersetOf:function(bv){var bw;bw=B.ofSeq(bv);return this.count>B.length(bw)?this.IsSupersetOf(bw):false;},IsProperSubsetOf:function(bv){var bw;bw=B.ofSeq(bv);return this.count<B.length(bw)?this.IsSubsetOf(bw):false;},IntersectWith:function(bv){var bw,bx,by,bz,bA,bB;bw=new _0.New$4(bv,this.equals,this.hash);bx=Z.concat(this.data);for(by=0,bz=bx.length-1;by<=bz;by++){bA=bx[by];!bw.Contains(bA)?bB=this.Remove(bA):void 0;}},ExceptWith:function(bv){var bw,bx;bw=w.Get(bv);try{while(bw.MoveNext()){bx=this.Remove(bw.Current());}}finally{if("Dispose"in bw)bw.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bv){var bw,bx,by,bz;bw=0;bx=Z.concat(this.data);for(by=0,bz=bx.length-1;by<=bz;by++)B.set(bv,by,bx[by]);},Contains:function(bv){var bw;bw=this.data[this.hash(bv)];return bw==null?false:this.arrContains(bv,bw);},Clear:function(){this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;},Add:function(bv){return this.add(bv);},GetEnumerator:function(){return w.Get(Z.concat(this.data));},GetEnumerator0:function(){return w.Get(Z.concat(this.data));}},null,_0);_0.New=bt.Ctor(function(bv,bw){_0.New$4.call(this,bv,K.equals(bw),function(bx){return K.getHashCode(bw,bx);});},_0);_0.New$1=bt.Ctor(function(bv){_0.New$4.call(this,[],K.equals(bv),function(bw){return K.getHashCode(bv,bw);});},_0);_0.New$2=bt.Ctor(function(bv){_0.New$4.call(this,bv,bi.Equals,bi.Hash);},_0);_0.New$3=bt.Ctor(function(){_0.New$4.call(this,[],bi.Equals,bi.Hash);},_0);_0.New$4=bt.Ctor(function(bv,bw,bx){var by,bz;this.equals=bw;this.hash=bx;this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;by=w.Get(bv);try{while(by.MoveNext()){bz=this.add(by.Current());}}finally{if("Dispose"in by)by.Dispose();}},_0);_1.Force=function(bv){return bv.f();};_1.CreateFromValue=function(bv){return{c:true,v:bv,f:_1.cachedLazy};};_1.Create=function(bv){return{c:false,v:bv,f:_1.forceLazy};};_1.forceLazy=function(){var bv;bv=this.v();this.c=true;this.v=bv;this.f=_1.cachedLazy;return bv;};_1.cachedLazy=function(){return this.v;};_2=D.T=bt.Class({GetSlice:function(bv,bw){var bx,by,bz;return(bv!=null?bv.$==1:false)?(bw!=null?bw.$==1:false)?(bx=bv.$0,D.ofSeq((by=bw.$0-bx+1,function(bA){return C.take(by,bA);}(D.skip(bx,this))))):D.skip(bv.$0,this):(bw!=null?bw.$==1:false)?D.ofSeq((bz=bw.$0+1,function(bA){return C.take(bz,bA);}(this))):this;},get_Item:function(bv){return C.nth(bv,this);},get_Length:function(){return D.length(this);},GetEnumerator:function(){return new x.New(this,null,function(bv){var bw;bw=bv.s;return bw.$==0?false:(bv.c=bw.$0,bv.s=bw.$1,true);},void 0);},GetEnumerator0:function(){return w.Get(this);}},null,_2);D.append=function(bv,bw){var bx,by,bz,bA,bB;if(bv.$==0)return bw;else{bB=new _2({$:0});bx=bB;by=bv;bz=true;while(bz){D.setValue(bx,by.$0);by=by.$1;by.$==0?bz=false:bx=D.setTail(bx,new _2({$:0}));}bA=D.setTail(bx,bw);return bB;}};D.choose=function(bv,bw){return D.ofSeq(C.choose(bv,bw));};D.collect=function(bv,bw){return D.ofSeq(C.collect(bv,bw));};D.concat=function(bv){return D.ofSeq(C.concat(bv));};D.exists=function(bv,bw){var bx,by;bx=false;by=bw;while(!bx?by.$==1:false){bx=bv(by.$0);by=by.$1;}return bx;};D.exists2=function(bv,bw,bx){var by,bz,bA;by=false;bz=bw;bA=bx;while((!by?bz.$==1:false)?bA.$==1:false){by=bv(bz.$0,bA.$0);bz=bz.$1;bA=bA.$1;}(!by?bz.$==1?true:bA.$==1:false)?D.badLengths():void 0;return by;};D.filter=function(bv,bw){return D.ofSeq(C.filter(bv,bw));};D.fold2=function(bv,bw,bx,by){return B.fold2(bv,bw,B.ofList(bx),B.ofList(by));};D.foldBack=function(bv,bw,bx){return B.foldBack(bv,B.ofList(bw),bx);};D.foldBack2=function(bv,bw,bx,by){return B.foldBack2(bv,B.ofList(bw),B.ofList(bx),by);};D.forAll=function(bv,bw){var bx,by;bx=true;by=bw;while(bx?by.$==1:false){bx=bv(by.$0);by=by.$1;}return bx;};D.forall2=function(bv,bw,bx){var by,bz,bA;by=true;bz=bw;bA=bx;while((by?bz.$==1:false)?bA.$==1:false){by=bv(bz.$0,bA.$0);bz=bz.$1;bA=bA.$1;}(by?bz.$==1?true:bA.$==1:false)?D.badLengths():void 0;return by;};D.head=function(bv){return bv.$==1?bv.$0:D.listEmpty();};D.init=function(bv,bw){return D.ofArray(B.init(bv,bw));};D.iter=function(bv,bw){var bx;bx=bw;while(bx.$==1){bv(D.head(bx));bx=D.tail(bx);}};D.iter2=function(bv,bw,bx){var by,bz;by=bw;bz=bx;while(by.$==1){bz.$==0?D.badLengths():void 0;bv(D.head(by),D.head(bz));by=D.tail(by);bz=D.tail(bz);}bz.$==1?D.badLengths():void 0;};D.iteri=function(bv,bw){var bx,by;bx=bw;by=0;while(bx.$==1){bv(by,D.head(bx));bx=D.tail(bx);by=by+1;}};D.iteri2=function(bv,bw,bx){var by,bz,bA;by=bw;bz=bx;bA=0;while(by.$==1){bz.$==0?D.badLengths():void 0;bv(bA,D.head(by),D.head(bz));by=D.tail(by);bz=D.tail(bz);bA=bA+1;}bz.$==1?D.badLengths():void 0;};D.length=function(bv){var bw,bx;bw=bv;bx=0;while(bw.$==1){bw=D.tail(bw);bx=bx+1;}return bx;};D.map=function(bv,bw){var bx,by,bz;bz=new _2({$:0});bx=bz;by=bw;while(by.$==1){D.setValue(bx,bv(by.$0));bx=D.setTail(bx,new _2({$:0}));by=by.$1;}return bz;};D.map2=function(bv,bw,bx){var by,bz,bA,bB;bB=new _2({$:0});by=bB;bz=bw;bA=bx;while(bz.$==1?bA.$==1:false){D.setValue(by,bv(bz.$0,bA.$0));by=D.setTail(by,new _2({$:0}));bz=bz.$1;bA=bA.$1;}(bz.$==1?true:bA.$==1)?D.badLengths():void 0;return bB;};D.map3=function(bv,bw,bx,by){var bz,bA,bB,bC,bD;bD=new _2({$:0});bz=bD;bA=bw;bB=bx;bC=by;while((bA.$==1?bB.$==1:false)?bC.$==1:false){D.setValue(bz,bv(bA.$0,bB.$0,bC.$0));bz=D.setTail(bz,new _2({$:0}));bA=bA.$1;bB=bB.$1;bC=bC.$1;}((bA.$==1?true:bB.$==1)?true:bC.$==1)?D.badLengths():void 0;return bD;};D.mapi=function(bv,bw){var bx,by,bz,bA;bA=new _2({$:0});bx=bA;by=bw;bz=0;while(by.$==1){D.setValue(bx,bv(bz,by.$0));bx=D.setTail(bx,new _2({$:0}));by=by.$1;bz=bz+1;}return bA;};D.mapi2=function(bv,bw,bx){var by,bz,bA,bB,bC;bC=new _2({$:0});by=bC;bz=bw;bA=bx;bB=0;while(bz.$==1?bA.$==1:false){D.setValue(by,bv(bB,bz.$0,bA.$0));by=D.setTail(by,new _2({$:0}));bz=bz.$1;bA=bA.$1;bB=bB+1;}(bz.$==1?true:bA.$==1)?D.badLengths():void 0;return bC;};D.max=function(bv){return C.reduce(_5.Max,bv);};D.maxBy=function(bv,bw){return C.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))===1?bx:by;},bw);};D.min=function(bv){return C.reduce(_5.Min,bv);};D.minBy=function(bv,bw){return C.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))===-1?bx:by;},bw);};D.ofArray=function(bv){var bw,bx,by;bw=new _2({$:0});for(bx=B.length(bv)-1,by=0;bx>=by;bx--)bw=new _2({$:1,$0:B.get(bv,bx),$1:bw});return bw;};D.ofSeq=function(bv){var bw,bx,by;if(bv instanceof _2)return bv;else if(bv instanceof a.Array)return D.ofArray(bv);else{bx=new _2({$:0});bw=bx;by=w.Get(bv);try{while(by.MoveNext()){D.setValue(bw,by.Current());bw=D.setTail(bw,new _2({$:0}));}bw.$=0;return bx;}finally{if("Dispose"in by)by.Dispose();}}};D.partition=function(bv,bw){var bx;bx=B.partition(bv,B.ofList(bw));return[D.ofArray(bx[0]),D.ofArray(bx[1])];};D.permute=function(bv,bw){return D.ofArray(B.permute(bv,B.ofList(bw)));};D.reduceBack=function(bv,bw){return B.reduceBack(bv,B.ofList(bw));};D.replicate=function(bv,bw){return D.ofArray(B.create(bv,bw));};D.rev=function(bv){var bw,bx;bw=new _2({$:0});bx=bv;while(bx.$==1){bw=new _2({$:1,$0:bx.$0,$1:bw});bx=bx.$1;}return bw;};D.scan=function(bv,bw,bx){return D.ofSeq(C.scan(bv,bw,bx));};D.scanBack=function(bv,bw,bx){return D.ofArray(B.scanBack(bv,B.ofList(bw),bx));};D.sort=function(bv){var bw;bw=B.ofList(bv);B.sortInPlace(bw);return D.ofArray(bw);};D.sortBy=function(bv,bw){return D.sortWith(function(bx,by){return _5.Compare(bv(bx),bv(by));},bw);};D.sortByDescending=function(bv,bw){return D.sortWith(function(bx,by){return-_5.Compare(bv(bx),bv(by));},bw);};D.sortDescending=function(bv){var bw;bw=B.ofList(bv);B.sortInPlaceByDescending(a.id,bw);return D.ofArray(bw);};D.sortWith=function(bv,bw){var bx;bx=B.ofList(bw);B.sortInPlaceWith(bv,bx);return D.ofArray(bx);};D.tail=function(bv){return bv.$==1?bv.$1:D.listEmpty();};D.unzip=function(bv){var bw,bx,by,bz;bw=[];bx=[];by=w.Get(bv);try{while(by.MoveNext()){bz=by.Current();bw.push(bz[0]);bx.push(bz[1]);}}finally{if("Dispose"in by)by.Dispose();}return[D.ofArray(bw.slice(0)),D.ofArray(bx.slice(0))];};D.unzip3=function(bv){var bw,bx,by,bz,bA;bw=[];bx=[];by=[];bz=w.Get(bv);try{while(bz.MoveNext()){bA=bz.Current();bw.push(bA[0]);bx.push(bA[1]);by.push(bA[2]);}}finally{if("Dispose"in bz)bz.Dispose();}return[D.ofArray(bw.slice(0)),D.ofArray(bx.slice(0)),D.ofArray(by.slice(0))];};D.zip=function(bv,bw){return D.map2(function(bx,by){return[bx,by];},bv,bw);};D.zip3=function(bv,bw,bx){return D.map3(function(by,bz,bA){return[by,bz,bA];},bv,bw,bx);};D.chunkBySize=function(bv,bw){var bx;bx=D.ofSeq(C.chunkBySize(bv,bw));return D.map(D.ofArray,bx);};D.compareWith=function(bv,bw,bx){return C.compareWith(bv,bw,bx);};D.countBy=function(bv,bw){return D.ofArray(B.countBy(bv,B.ofList(bw)));};D.distinct=function(bv){return D.ofSeq(C.distinct(bv));};D.distinctBy=function(bv,bw){return D.ofSeq(C.distinctBy(bv,bw));};D.splitInto=function(bv,bw){var bx;bx=D.ofArray(B.splitInto(bv,B.ofList(bw)));return D.map(D.ofArray,bx);};D.except=function(bv,bw){return D.ofSeq(C.except(bv,bw));};D.tryFindBack=function(bv,bw){return B.tryFindBack(bv,B.ofList(bw));};D.findBack=function(bv,bw){var bx;bx=D.tryFindBack(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};D.findIndexBack=function(bv,bw){var bx;bx=B.tryFindIndexBack(bv,B.ofList(bw));return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};D.groupBy=function(bv,bw){var bx,by;bx=B.groupBy(bv,B.ofList(bw));by=function(bz,bA){return[bz,D.ofArray(bA)];};(function(bz){B.mapInPlace(function(bA){return by(bA[0],bA[1]);},bz);}(bx));return D.ofArray(bx);};D.last=function(bv){var bw,bx;bv.$==0?D.listEmpty():null;bw=bv;bx=bw.$1;while(bx.$==1){bw=bx;bx=bw.$1;}return bw.$0;};D.contains=function(bv,bw){var bx,by;bx=false;by=bw;while(!bx?by.$==1:false){bx=bi.Equals(bv,by.$0);by=by.$1;}return bx;};D.mapFold=function(bv,bw,bx){var by;by=B.mapFold(bv,bw,B.ofList(bx));return[D.ofArray(by[0]),by[1]];};D.mapFoldBack=function(bv,bw,bx){var by;by=B.mapFoldBack(bv,B.ofList(bw),bx);return[D.ofArray(by[0]),by[1]];};D.pairwise=function(bv){return D.ofSeq(C.pairwise(bv));};D.indexed=function(bv){return D.mapi(function(bw,bx){return[bw,bx];},bv);};D.tryHead=function(bv){return bv.$==0?null:{$:1,$0:bv.$0};};D.exactlyOne=function(bv){var bw;return(bv.$==1?bv.$1.$==0?(bw=bv.$0,true):false:false)?bw:_5.FailWith("The input does not have precisely one element.");};D.unfold=function(bv,bw){return D.ofSeq(C.unfold(bv,bw));};D.windowed=function(bv,bw){var bx;return D.ofSeq((bx=C.windowed(bv,bw),C.map(D.ofArray,bx)));};D.splitAt=function(bv,bw){return[D.ofSeq(C.take(bv,bw)),D.skip(bv,bw)];};D.setTail=function(bv,bw){bv.$1=bw;return bw;};D.setValue=function(bv,bw){bv.$=1;bv.$0=bw;};D.listEmpty=function(){return _5.FailWith("The input list was empty.");};D.badLengths=function(){return _5.FailWith("The lists have different lengths.");};_3.getOrValue=function(bv,bw){return bv==null?bw:bv;};_3.get=function(bv){return bv==null?_5.FailWith("Nullable object must have a value."):bv;};_4.decr=function(bv){bv[0]--;};_4.incr=function(bv){bv[0]++;};_5.range=function(bv,bw){var bx;bx=1+bw-bv;return bx<=0?[]:C.init(bx,function(by){return by+bv;});};_5.step=function(bv,bw,bx){var by,bz;by=_5.Sign(bw);bz=function(bA){return by*(bx-bA)>=0;};return function(bA){return C.takeWhile(bz,bA);}(C.initInfinite(function(bA){return bv+bA*bw;}));};_5.KeyValue=function(bv){return[bv.K,bv.V];};_5.Using=function(bv,bw){try{return bw(bv);}finally{bv.Dispose();}};_5.Truncate=function(bv){return bv<0?a.Math.ceil(bv):a.Math.floor(bv);};_5.Sign=function(bv){return bv===0?0:bv<0?-1:1;};_5.Pown=function(bv,bw){function bx(by){var bz;return by===1?bv:by%2===0?(bz=bx(by/2>>0),bz*bz):bv*bx(by-1);}return bx(bw);};_5.Min=function(bv,bw){return bi.Compare(bv,bw)===-1?bv:bw;};_5.Max=function(bv,bw){return bi.Compare(bv,bw)===1?bv:bw;};_5.InvalidArg=function(bv,bw){throw new R.New(bv,bw);};_5.InvalidOp=function(bv){throw new T.New$1(bv);};_5.FailWith=function(bv){throw a.Error(bv);};_5.DefaultArg=function(bv,bw){return bv==null?bw:bv.$0;};_5.Compare=function(bv,bw){return bi.Compare(bv,bw);};_6.string=function(bv,bw,bx){return bw==null?(bx!=null?bx.$==1:false)?bv.slice(0,bx.$0+1):"":bx==null?bv.slice(bw.$0):bv.slice(bw.$0,bx.$0+1);};_6.array=function(bv,bw,bx){return bw==null?(bx!=null?bx.$==1:false)?bv.slice(0,bx.$0+1):[]:bx==null?bv.slice(bw.$0):bv.slice(bw.$0,bx.$0+1);};_6.setArray=function(bv,bw,bx,by){var bz,bA;bz=(bw!=null?bw.$==1:false)?bw.$0:0;bA=(bx!=null?bx.$==1:false)?bx.$0:bv.length-1;B.setSub(bv,bz,bA-bz+1,by);};_6.array2D=function(bv,bw,bx,by,bz){var bA,bB,bC,bD;bA=(bw!=null?bw.$==1:false)?bw.$0:0;bB=(by!=null?by.$==1:false)?by.$0:0;bC=(bx!=null?bx.$==1:false)?bx.$0:bv.length-1;bD=(bz!=null?bz.$==1:false)?bz.$0:(bv.length?bv[0].length:0)-1;return B.sub2D(bv,bA,bB,bC-bA+1,bD-bB+1);};_6.array2Dfix1=function(bv,bw,bx,by){var bz,bA,bB,bC,bD,bE;bz=(bx!=null?bx.$==1:false)?bx.$0:0;bA=(by!=null?by.$==1:false)?by.$0:(bv.length?bv[0].length:0)-1;bB=bA-bz+1;bC=new a.Array(bB);for(bD=0,bE=bB-1;bD<=bE;bD++)B.set(bC,bD,B.get2D(bv,bw,bz+bD));return bC;};_6.array2Dfix2=function(bv,bw,bx,by){var bz,bA,bB,bC,bD,bE;bz=(bw!=null?bw.$==1:false)?bw.$0:0;bA=(bx!=null?bx.$==1:false)?bx.$0:bv.length-1;bB=bA-bz+1;bC=new a.Array(bB);for(bD=0,bE=bB-1;bD<=bE;bD++)B.set(bC,bD,B.get2D(bv,bz+bD,by));return bC;};_6.setArray2Dfix1=function(bv,bw,bx,by,bz){var bA,bB,bC,bD;bA=(bx!=null?bx.$==1:false)?bx.$0:0;bB=(by!=null?by.$==1:false)?by.$0:(bv.length?bv[0].length:0)-1;for(bC=0,bD=bB-bA+1-1;bC<=bD;bC++)B.set2D(bv,bw,bA+bC,B.get(bz,bC));};_6.setArray2Dfix2=function(bv,bw,bx,by,bz){var bA,bB,bC,bD;bA=(bw!=null?bw.$==1:false)?bw.$0:0;bB=(bx!=null?bx.$==1:false)?bx.$0:bv.length-1;for(bC=0,bD=bB-bA+1-1;bC<=bD;bC++)B.set2D(bv,bA+bC,by,B.get(bz,bC));};_6.setArray2D=function(bv,bw,bx,by,bz,bA){var bB,bC,bD,bE;bB=(bw!=null?bw.$==1:false)?bw.$0:0;bC=(by!=null?by.$==1:false)?by.$0:0;bD=(bx!=null?bx.$==1:false)?bx.$0:bv.length-1;bE=(bz!=null?bz.$==1:false)?bz.$0:(bv.length?bv[0].length:0)-1;B.setSub2D(bv,bB,bC,bD-bB+1,bE-bC+1,bA);};_7.fold=function(bv,bw,bx){return bx==null?bw:bv(bw,bx.$0);};_7.foldBack=function(bv,bw,bx){return bw==null?bx:bv(bw.$0,bx);};_7.toArray=function(bv){return bv==null?[]:[bv.$0];};_7.toList=function(bv){return bv==null?new _2({$:0}):D.ofArray([bv.$0]);};_7.ofObj=function(bv){return bv==null?null:{$:1,$0:bv};};_7.toObj=function(bv){return bv==null?null:bv.$0;};_7.ofNullable=function(bv){return bv==null?null:{$:1,$0:_3.get(bv)};};_7.toNullable=function(bv){return(bv!=null?bv.$==1:false)?bv.$0:null;};_7.filter=function(bv,bw){var bx;return(bw!=null?bw.$==1:false)?(bx=bw.$0,bv(bx)?{$:1,$0:bx}:null):null;};_8.CopyTo=function(bv,bw,bx){B.blit(bv,0,bw,bx,B.length(bv));};_8.Contains=function(bv,bw){return C.exists(function(bx){return bi.Equals(bw,bx);},bv);};_8.Clear=function(bv){bv.splice(0,B.length(bv));};_9=b.Random=bt.Class({NextBytes:function(bv){var bw,bx;for(bw=0,bx=B.length(bv)-1;bw<=bx;bw++)B.set(bv,bw,a.Math.floor(a.Math.random()*256));},Next:function(bv,bw){return bv>bw?_5.FailWith("'minValue' cannot be greater than maxValue."):bv+a.Math.floor(a.Math.random()*(bw-bv));},Next$1:function(bv){return bv<0?_5.FailWith("'maxValue' must be greater than zero."):a.Math.floor(a.Math.random()*bv);},Next$2:function(){return a.Math.floor(a.Math.random()*2147483648);}},null,_9);_9.New=bt.Ctor(function(){},_9);bb.New=function(bv){return{"0":bv};};C.enumFinally=function(bv,bw){return{GetEnumerator:function(){var bx;try{bx=w.Get(bv);}catch(by){bw();throw by;}return new x.New(null,null,function(bz){return bx.MoveNext()?(bz.c=bx.Current(),true):false;},function(){bx.Dispose();bw();});}};};C.enumUsing=function(bv,bw){return{GetEnumerator:function(){var bx;try{bx=w.Get(bw(bv));}catch(by){bv.Dispose();throw by;}return new x.New(null,null,function(bz){return bx.MoveNext()?(bz.c=bx.Current(),true):false;},function(){bx.Dispose();bv.Dispose();});}};};C.enumWhile=function(bv,bw){return{GetEnumerator:function(){return new x.New(null,null,function(bx){var by;while(true){by=bx.s;if(bi.Equals(by,null)){if(bv()){bx.s=w.Get(bw);bx=bx;}else return false;}else{if(by.MoveNext()){bx.c=by.Current();return true;}else{by.Dispose();bx.s=null;bx=bx;}}}},function(bx){var by;by=bx.s;!bi.Equals(by,null)?by.Dispose():void 0;});}};};bc.createEvent=function(bv,bw,bx){return{Subscribe:function(by){var bz;bz=bx(function(){return function(bA){return by.OnNext(bA);};});bv(bz);return{Dispose:function(){return bw(bz);}};},RemoveHandler:bw,AddHandler:bv};};C.append=function(bv,bw){return{GetEnumerator:function(){var bx,by;bx=w.Get(bv);by=[true];return new x.New(bx,null,function(bz){var bA;return bz.s.MoveNext()?(bz.c=bz.s.Current(),true):(bA=bz.s,!bi.Equals(bA,null)?bA.Dispose():void 0,bz.s=null,by[0]?(by[0]=false,bz.s=w.Get(bw),bz.s.MoveNext()?(bz.c=bz.s.Current(),true):(bz.s.Dispose(),bz.s=null,false)):false);},function(bz){var bA;bA=bz.s;!bi.Equals(bA,null)?bA.Dispose():void 0;});}};};C.average=function(bv){var bw,bx;bw=C.fold(function(by,bz){return(function(bA){var bB,bC;bB=bA[0];bC=bA[1];return function(bD){return[bB+1,bC+bD];};}(by))(bz);},[0,0],bv);bx=bw[0];return bx===0?_5.InvalidArg("source","The input sequence was empty."):bw[1]/bx;};C.averageBy=function(bv,bw){var bx,by;bx=C.fold(function(bz,bA){return(function(bB){var bC,bD;bC=bB[0];bD=bB[1];return function(bE){return[bC+1,bD+bv(bE)];};}(bz))(bA);},[0,0],bw);by=bx[0];return by===0?_5.InvalidArg("source","The input sequence was empty."):bx[1]/by;};C.cache=function(bv){var bw,bx;bw=[];bx=[w.Get(bv)];return{GetEnumerator:function(){return new x.New(0,null,function(by){var bz;return by.s+1<bw.length?(by.s=by.s+1,by.c=bw[by.s],true):(bz=bx[0],bi.Equals(bz,null)?false:bz.MoveNext()?(by.s=by.s+1,by.c=bz.Current(),bw.push(by.c),true):(bz.Dispose(),bx[0]=null,false));},void 0);}};};C.choose=function(bv,bw){var bx;bx=function(by){var bz;bz=bv(by);return bz==null?new _2({$:0}):D.ofArray([bz.$0]);};return function(by){return C.collect(bx,by);}(bw);};C.collect=function(bv,bw){return C.concat(C.map(bv,bw));};C.compareWith=function(bv,bw,bx){var by,bz,bA,bB,bC;by=w.Get(bw);try{bA=w.Get(bx);try{bB=0;bC=true;while(bC?bB===0:false)if(by.MoveNext())bB=bA.MoveNext()?bv(by.Current(),bA.Current()):1;else if(bA.MoveNext())bB=-1;else bC=false;bz=bB;}finally{if("Dispose"in bA)bA.Dispose();}return bz;}finally{if("Dispose"in by)by.Dispose();}};C.concat=function(bv){return{GetEnumerator:function(){var bw;bw=w.Get(bv);return new x.New(null,null,function(bx){var by;while(true){by=bx.s;if(bi.Equals(by,null)){if(bw.MoveNext()){bx.s=w.Get(bw.Current());bx=bx;}else{bw.Dispose();return false;}}else{if(by.MoveNext()){bx.c=by.Current();return true;}else{bx.Dispose();bx.s=null;bx=bx;}}}},function(bx){var by;by=bx.s;!bi.Equals(by,null)?by.Dispose():void 0;!bi.Equals(bw,null)?bw.Dispose():void 0;});}};};C.countBy=function(bv,bw){return C.delay(function(){return B.countBy(bv,B.ofSeq(bw));});};C.delay=function(bv){return{GetEnumerator:function(){return w.Get(bv());}};};C.distinct=function(bv){return C.distinctBy(a.id,bv);};C.distinctBy=function(bv,bw){return{GetEnumerator:function(){var bx,by;bx=w.Get(bw);by=new _0.New$3();return new x.New(null,null,function(bz){var bA,bB;if(bx.MoveNext()){bA=bx.Current();bB=by.Add(bv(bA));while(!bB?bx.MoveNext():false){bA=bx.Current();bB=by.Add(bv(bA));}return bB?(bz.c=bA,true):false;}else return false;},function(){bx.Dispose();});}};};C.splitInto=function(bv,bw){bv<=0?_5.FailWith("Count must be positive"):void 0;return C.delay(function(){return B.splitInto(bv,B.ofSeq(bw));});};C.exactlyOne=function(bv){var bw,bx;bw=w.Get(bv);try{return bw.MoveNext()?(bx=bw.Current(),bw.MoveNext()?_5.InvalidOp("Sequence contains more than one element"):bx):_5.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in bw)bw.Dispose();}};C.exists=function(bv,bw){var bx,by;bx=w.Get(bw);try{by=false;while(!by?bx.MoveNext():false)by=bv(bx.Current());return by;}finally{if("Dispose"in bx)bx.Dispose();}};C.exists2=function(bv,bw,bx){var by,bz,bA,bB;by=w.Get(bw);try{bA=w.Get(bx);try{bB=false;while((!bB?by.MoveNext():false)?bA.MoveNext():false)bB=bv(by.Current(),bA.Current());bz=bB;}finally{if("Dispose"in bA)bA.Dispose();}return bz;}finally{if("Dispose"in by)by.Dispose();}};C.filter=function(bv,bw){return{GetEnumerator:function(){var bx;bx=w.Get(bw);return new x.New(null,null,function(by){var bz,bA,bB;bz=bx.MoveNext();bA=bx.Current();bB=false;while(bz)if(bv(bA)){by.c=bA;bB=true;bz=false;}else if(bx.MoveNext())bA=bx.Current();else bz=false;return bB;},function(){bx.Dispose();});}};};C.find=function(bv,bw){var bx;bx=C.tryFind(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};C.findIndex=function(bv,bw){var bx;bx=C.tryFindIndex(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};C.fold=function(bv,bw,bx){var by,bz;by=bw;bz=w.Get(bx);try{while(bz.MoveNext())by=bv(by,bz.Current());return by;}finally{if("Dispose"in bz)bz.Dispose();}};C.forall=function(bv,bw){return!C.exists(function(bx){return!bv(bx);},bw);};C.forall2=function(bv,bw,bx){return!C.exists2(function(by,bz){return!bv(by,bz);},bw,bx);};C.groupBy=function(bv,bw){return C.delay(function(){return B.groupBy(bv,B.ofSeq(bw));});};C.head=function(bv){var bw;bw=w.Get(bv);try{return bw.MoveNext()?bw.Current():C.insufficient();}finally{if("Dispose"in bw)bw.Dispose();}};C.init=function(bv,bw){return C.take(bv,C.initInfinite(bw));};C.initInfinite=function(bv){return{GetEnumerator:function(){return new x.New(0,null,function(bw){bw.c=bv(bw.s);bw.s=bw.s+1;return true;},void 0);}};};C.isEmpty=function(bv){var bw;bw=w.Get(bv);try{return!bw.MoveNext();}finally{if("Dispose"in bw)bw.Dispose();}};C.iter=function(bv,bw){var bx;bx=w.Get(bw);try{while(bx.MoveNext())bv(bx.Current());}finally{if("Dispose"in bx)bx.Dispose();}};C.iter2=function(bv,bw,bx){var by,bz,bA;by=w.Get(bw);try{bA=w.Get(bx);try{while(by.MoveNext()?bA.MoveNext():false)bv(by.Current(),bA.Current());bz=void 0;}finally{if("Dispose"in bA)bA.Dispose();}bz;}finally{if("Dispose"in by)by.Dispose();}};C.iteri=function(bv,bw){var bx,by;bx=0;by=w.Get(bw);try{while(by.MoveNext()){bv(bx,by.Current());bx=bx+1;}}finally{if("Dispose"in by)by.Dispose();}};C.length=function(bv){var bw,bx;bw=0;bx=w.Get(bv);try{while(bx.MoveNext())bw=bw+1;return bw;}finally{if("Dispose"in bx)bx.Dispose();}};C.map=function(bv,bw){return{GetEnumerator:function(){var bx;bx=w.Get(bw);return new x.New(null,null,function(by){return bx.MoveNext()?(by.c=bv(bx.Current()),true):false;},function(){bx.Dispose();});}};};C.mapi=function(bv,bw){return C.map2(bv,C.initInfinite(a.id),bw);};C.map2=function(bv,bw,bx){return{GetEnumerator:function(){var by,bz;by=w.Get(bw);bz=w.Get(bx);return new x.New(null,null,function(bA){return(by.MoveNext()?bz.MoveNext():false)?(bA.c=bv(by.Current(),bz.Current()),true):false;},function(){by.Dispose();bz.Dispose();});}};};C.maxBy=function(bv,bw){return C.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))>=0?bx:by;},bw);};C.minBy=function(bv,bw){return C.reduce(function(bx,by){return bi.Compare(bv(bx),bv(by))<=0?bx:by;},bw);};C.max=function(bv){return C.reduce(function(bw,bx){return bi.Compare(bw,bx)>=0?bw:bx;},bv);};C.min=function(bv){return C.reduce(function(bw,bx){return bi.Compare(bw,bx)<=0?bw:bx;},bv);};C.nth=function(bv,bw){var bx,by;if(bv<0)_5.FailWith("negative index requested");bx=-1;by=w.Get(bw);try{while(bx<bv){!by.MoveNext()?C.insufficient():void 0;bx=bx+1;}return by.Current();}finally{if("Dispose"in by)by.Dispose();}};C.pairwise=function(bv){var bw;bw=function(bx){return[B.get(bx,0),B.get(bx,1)];};return function(bx){return C.map(bw,bx);}(C.windowed(2,bv));};C.pick=function(bv,bw){var bx;bx=C.tryPick(bv,bw);return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};C.readOnly=function(bv){return{GetEnumerator:function(){return w.Get(bv);}};};C.reduce=function(bv,bw){var bx,by;bx=w.Get(bw);try{if(!bx.MoveNext())_5.FailWith("The input sequence was empty");by=bx.Current();while(bx.MoveNext())by=bv(by,bx.Current());return by;}finally{if("Dispose"in bx)bx.Dispose();}};C.scan=function(bv,bw,bx){return{GetEnumerator:function(){var by,bz;by=w.Get(bx);bz=function(){by.Dispose();};return function(bA){return new x.New(false,null,bA,bz);}(function(bA){return bA.s?by.MoveNext()?(bA.c=bv(bA.c,by.Current()),true):false:(bA.c=bw,bA.s=true,true);});}};};C.skip=function(bv,bw){return{GetEnumerator:function(){var bx;bx=w.Get(bw);return new x.New(true,null,function(by){var bz,bA;if(by.s){for(bz=1,bA=bv;bz<=bA;bz++)if(!bx.MoveNext())C.insufficient();by.s=false;}else null;return bx.MoveNext()?(by.c=bx.Current(),true):false;},function(){bx.Dispose();});}};};C.skipWhile=function(bv,bw){return{GetEnumerator:function(){var bx;bx=w.Get(bw);return new x.New(true,null,function(by){var bz,bA;if(by.s){bz=true;bA=false;while(bz)if(bx.MoveNext()){if(!bv(bx.Current()))bz=false;}else{bz=false;bA=true;}by.s=false;return bA?false:(by.c=bx.Current(),true);}else return bx.MoveNext()?(by.c=bx.Current(),true):false;},function(){bx.Dispose();});}};};C.sort=function(bv){return C.sortBy(a.id,bv);};C.sortBy=function(bv,bw){return C.delay(function(){var bx;bx=B.ofSeq(bw);B.sortInPlaceBy(bv,bx);return bx;});};C.sortByDescending=function(bv,bw){return C.delay(function(){var bx;bx=B.ofSeq(bw);B.sortInPlaceByDescending(bv,bx);return bx;});};C.sortDescending=function(bv){return C.sortByDescending(a.id,bv);};C.sum=function(bv){return C.fold(function(bw,bx){return bw+bx;},0,bv);};C.sumBy=function(bv,bw){return C.fold(function(bx,by){return bx+bv(by);},0,bw);};C.take=function(bv,bw){bv<0?C.nonNegative():void 0;return{GetEnumerator:function(){var bx;bx=[w.Get(bw)];return new x.New(0,null,function(by){var bz;by.s=by.s+1;return by.s>bv?false:(bz=bx[0],bi.Equals(bz,null)?C.insufficient():bz.MoveNext()?(by.c=bz.Current(),by.s===bv?(bz.Dispose(),bx[0]=null):void 0,true):(bz.Dispose(),bx[0]=null,C.insufficient()));},function(){var by;by=bx[0];!bi.Equals(by,null)?by.Dispose():void 0;});}};};C.takeWhile=function(bv,bw){return C.delay(function(){return C.enumUsing(w.Get(bw),function(bx){return C.enumWhile(function(){return bx.MoveNext()?bv(bx.Current()):false;},C.delay(function(){return[bx.Current()];}));});});};C.truncate=function(bv,bw){return C.delay(function(){return C.enumUsing(w.Get(bw),function(bx){var by;by=[0];return C.enumWhile(function(){return bx.MoveNext()?by[0]<bv:false;},C.delay(function(){_4.incr(by);return[bx.Current()];}));});});};C.tryFind=function(bv,bw){var bx,by,bz;bx=w.Get(bw);try{by=null;while(by==null?bx.MoveNext():false){bz=bx.Current();bv(bz)?by={$:1,$0:bz}:void 0;}return by;}finally{if("Dispose"in bx)bx.Dispose();}};C.findBack=function(bv,bw){var bx;bx=B.tryFindBack(bv,B.ofSeq(bw));return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};C.tryFindIndex=function(bv,bw){var bx,by,bz;bx=w.Get(bw);try{by=true;bz=0;while(by?bx.MoveNext():false)if(bv(bx.Current()))by=false;else bz=bz+1;return by?null:{$:1,$0:bz};}finally{if("Dispose"in bx)bx.Dispose();}};C.findIndexBack=function(bv,bw){var bx;bx=B.tryFindIndexBack(bv,B.ofSeq(bw));return bx==null?_5.FailWith("KeyNotFoundException"):bx.$0;};C.tryPick=function(bv,bw){var bx,by;bx=w.Get(bw);try{by=null;while(bi.Equals(by,null)?bx.MoveNext():false)by=bv(bx.Current());return by;}finally{if("Dispose"in bx)bx.Dispose();}};C.unfold=function(bv,bw){return{GetEnumerator:function(){return new x.New(bw,null,function(bx){var by;by=bv(bx.s);return by==null?false:(bx.c=by.$0[0],bx.s=by.$0[1],true);},void 0);}};};C.windowed=function(bv,bw){bv<=0?_5.FailWith("The input must be positive."):void 0;return C.delay(function(){return C.enumUsing(w.Get(bw),function(bx){var by;by=[];return C.append(C.enumWhile(function(){return by.length<bv?bx.MoveNext():false;},C.delay(function(){by.push(bx.Current());return[];})),C.delay(function(){return by.length===bv?C.append([by.slice(0)],C.delay(function(){return C.enumWhile(function(){return bx.MoveNext();},C.delay(function(){by.shift();by.push(bx.Current());return[by.slice(0)];}));})):[];}));});});};C.zip=function(bv,bw){return C.map2(function(bx,by){return[bx,by];},bv,bw);};C.map3=function(bv,bw,bx,by){return{GetEnumerator:function(){var bz,bA,bB;bz=w.Get(bw);bA=w.Get(bx);bB=w.Get(by);return new x.New(null,null,function(bC){return((bz.MoveNext()?bA.MoveNext():false)?bB.MoveNext():false)?(bC.c=bv(bz.Current(),bA.Current(),bB.Current()),true):false;},function(){bz.Dispose();bA.Dispose();bB.Dispose();});}};};C.zip3=function(bv,bw,bx){return C.map3(function(by,bz,bA){return[by,bz,bA];},bv,bw,bx);};C.fold2=function(bv,bw,bx,by){return B.fold2(bv,bw,B.ofSeq(bx),B.ofSeq(by));};C.foldBack=function(bv,bw,bx){return B.foldBack(bv,B.ofSeq(bw),bx);};C.foldBack2=function(bv,bw,bx,by){return B.foldBack2(bv,B.ofSeq(bw),B.ofSeq(bx),by);};C.iteri2=function(bv,bw,bx){var by,bz,bA,bB;by=0;bz=w.Get(bw);try{bB=w.Get(bx);try{while(bz.MoveNext()?bB.MoveNext():false){bv(by,bz.Current(),bB.Current());by=by+1;}bA=void 0;}finally{if("Dispose"in bB)bB.Dispose();}bA;}finally{if("Dispose"in bz)bz.Dispose();}};C.mapi2=function(bv,bw,bx){return C.map3(function(by,bz,bA){return((bv(by))(bz))(bA);},C.initInfinite(a.id),bw,bx);};C.mapFold=function(bv,bw,bx){return B.mapFold(bv,bw,B.ofSeq(bx));};C.mapFoldBack=function(bv,bw,bx){return B.mapFoldBack(bv,B.ofSeq(bw),bx);};C.permute=function(bv,bw){return C.delay(function(){return B.permute(bv,B.ofSeq(bw));});};C.reduceBack=function(bv,bw){return B.reduceBack(bv,B.ofSeq(bw));};C.replicate=function(bv,bw){bv<0?C.nonNegative():void 0;return C.delay(function(){return C.map(function(){return bw;},_5.range(0,bv-1));});};C.rev=function(bv){return C.delay(function(){return B.ofSeq(bv).slice().reverse();});};C.scanBack=function(bv,bw,bx){return C.delay(function(){return B.scanBack(bv,B.ofSeq(bw),bx);});};C.indexed=function(bv){return C.mapi(function(bw,bx){return[bw,bx];},bv);};C.sortWith=function(bv,bw){return C.delay(function(){var bx;bx=B.ofSeq(bw);B.sortInPlaceWith(bv,bx);return bx;});};C.tail=function(bv){return C.skip(1,bv);};bd.CopyTo=function(bv,bw,bx){B.blit(bw,0,bw,bx,B.length(bv));};bd.Contains=function(bv,bw){return C.exists(function(bx){return bi.Equals(bw,bx);},bv);};bd.Clear=function(bv){bv.splice(0,B.length(bv));};be.RegexEscape=function(bv){return bv.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};be.SplitWith=function(bv,bw){return bv.split(bw);};be.Join=function(bv,bw){return bw.join(bv);};be.TrimEndWS=function(bv){return bv.replace(new a.RegExp("\\s+$"),"");};be.TrimStartWS=function(bv){return bv.replace(new a.RegExp("^\\s+"),"");};be.Trim=function(bv){return bv.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};be.StartsWith=function(bv,bw){return bv.substring(0,bw.length)==bw;};be.Substring=function(bv,bw,bx){return bv.substr(bw,bx);};be.ReplaceOnce=function(bv,bw,bx){return bv.replace(bw,bx);};be.Remove=function(bv,bw,bx){return bv.substring(0,bw)+bv.substring(bw+bx);};be.PadRightWith=function(bv,bw,bx){return bw>bv.length?bv+a.Array(bw-bv.length+1).join(a.String.fromCharCode(bx)):bv;};be.PadLeftWith=function(bv,bw,bx){return bw>bv.length?a.Array(bw-bv.length+1).join(a.String.fromCharCode(bx))+bv:bv;};be.LastIndexOf=function(bv,bw,bx){return bv.lastIndexOf(a.String.fromCharCode(bw),bx);};be.IsNullOrWhiteSpace=function(bv){return bv==null||(new a.RegExp("^\\s*$")).test(bv);};be.IsNullOrEmpty=function(bv){return bv==null||bv=="";};be.Insert=function(bv,bw,bx){return bv.substring(0,bw-1)+bx+bv.substring(bw);};be.IndexOf=function(bv,bw,bx){return bv.indexOf(a.String.fromCharCode(bw),bx);};be.EndsWith=function(bv,bw){return bv.substring(bv.length-bw.length)==bw;};be.collect=function(bv,bw){return B.init(bw.length,function(bx){return bv(bw.charCodeAt(bx));}).join("");};be.concat=function(bv,bw){return B.ofSeq(bw).join(bv);};be.exists=function(bv,bw){return C.exists(bv,be.protect(bw));};be.forall=function(bv,bw){return C.forall(bv,be.protect(bw));};be.init=function(bv,bw){return B.init(bv,bw).join("");};be.iter=function(bv,bw){C.iter(bv,be.protect(bw));};be.iteri=function(bv,bw){C.iteri(bv,be.protect(bw));};be.length=function(bv){return be.protect(bv).length;};be.map=function(bv,bw){return be.collect(function(bx){return bu.fromCharCode(bv(bx));},be.protect(bw));};be.mapi=function(bv,bw){return B.ofSeq(C.mapi(function(bx,by){return bu.fromCharCode(bv(bx,by));},bw)).join("");};be.replicate=function(bv,bw){return be.init(bv,function(){return bw;});};be.protect=function(bv){return bv===null?"":bv;};be.SFormat=function(bv,bw){var bx,by;bx=new a.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g");by=function(bz,bA,bB){var bC,bD,bE;bC=bu(B.get(bw,+bA));return!bi.Equals(bB,void 0)?(bD=+bB,(bE=a.Math.abs(bD),bE>bC.length?bD>0?be.PadLeft(bC,bE):be.PadRight(bC,bE):bC)):bC;};return function(bz){return bz.replace(bx,by);}(bv);};be.Filter=function(bv,bw){var bx;return B.ofSeq((bx=function(by){return bv(by)?{$:1,$0:bu.fromCharCode(by)}:null;},function(by){return C.choose(bx,by);}(bw))).join("");};be.SplitStrings=function(bv,bw,bx){var by;by=be.concat("|",B.map(be.RegexEscape,bw));return be.Split(bv,new a.RegExp(by),bx);};be.SplitChars=function(bv,bw,bx){var by;by="["+be.RegexEscape(a.String.fromCharCode.apply(void 0,bw))+"]";return be.Split(bv,new a.RegExp(by),bx);};be.Split=function(bv,bw,bx){var by;by=be.SplitWith(bv,bw);return bx===1?B.filter(function(bz){return bz!=="";},by):by;};be.TrimEnd=function(bv,bw){var bx,by,bz;if(bi.Equals(bw,null)?true:bw.length==0)return be.TrimEndWS(bv);else{bx=bv.length-1;by=true;while(bx>=0?by:false)(function(){var bA,bB;bA=bv.charCodeAt(bx);return(bB=function(bC){return bA===bC;},function(bC){return B.exists(bB,bC);}(bw))?void(bx=bx-1):void(by=false);}());bz=bx+1;return be.Substring(bv,0,bz);}};be.TrimStart=function(bv,bw){var bx,by;if(bi.Equals(bw,null)?true:bw.length==0)return be.TrimStartWS(bv);else{bx=0;by=true;while(bx<bv.length?by:false)(function(){var bz,bA;bz=bv.charCodeAt(bx);return(bA=function(bB){return bz===bB;},function(bB){return B.exists(bA,bB);}(bw))?void(bx=bx+1):void(by=false);}());return bv.substring(bx);}};be.ToCharArrayRange=function(bv,bw,bx){return B.init(bx,function(by){return bv.charCodeAt(bw+by);});};be.ToCharArray=function(bv){return B.init(bv.length,function(bw){return bv.charCodeAt(bw);});};be.ReplaceChar=function(bv,bw,bx){return be.Replace(bv,bu.fromCharCode(bw),bu.fromCharCode(bx));};be.Replace=function(bv,bw,bx){function by(bz){var bA,bB,bC,bD;bA=bz.indexOf(bw);return bA!==-1?(bB=be.ReplaceOnce(bz,bw,bx),(bC=bA+bx.length,(bD=bA+bx.length,be.Substring(bB,0,bD))+by(bB.substring(bC)))):bz;}return by(bv);};be.PadRight=function(bv,bw){return be.PadRightWith(bv,bw,32);};be.PadLeft=function(bv,bw){return be.PadLeftWith(bv,bw,32);};be.CopyTo=function(bv,bw,bx,by,bz){B.blit(be.ToCharArray(bv),bw,bx,by,bz);};be.Compare=function(bv,bw){return _5.Compare(bv,bw);};bf=b.Task=bt.Class({Execute:function(){this.action();},Start:function(){var bv;bv=this;bi.Equals(this.status,0)?(this.status=2,t.scheduler().Fork(function(){var bw;bv.status=3;try{bv.Execute();bv.status=5;}catch(bx){(bx instanceof Q?bi.Equals(bx.ct,bv.token)?(bw=bx,true):false:false)?(a.console.log.apply(a.console,["Task cancellation caught:"].concat([bw])),bv.exc=new U.New$3([bw]),bv.status=6):(a.console.log.apply(a.console,["Task error caught:"].concat([bx])),bv.exc=new U.New$3([bx]),bv.status=7);}bv.RunContinuations();})):_5.InvalidOp("Task not in initial state");},StartContinuation:function(){var bv;bv=this;bi.Equals(this.status,1)?(this.status=2,t.scheduler().Fork(function(){if(bi.Equals(bv.status,2)){bv.status=3;try{bv.Execute();bv.status=5;}catch(bw){bv.exc=new U.New$3([bw]);bv.status=7;}bv.RunContinuations();}})):void 0;},ContinueWith:function(bv,bw){var bx,by,bz;bx=this;by=new bg.New(function(){return bv(bx);},bw,1,null,void 0);this.get_IsCompleted()?by.StartContinuation():bz=this.continuations.push(by);return by;},ContinueWith$1:function(bv,bw){var bx,by,bz;bx=this;by=new bf.New$2(function(){return bv(bx);},bw,1,null);this.get_IsCompleted()?by.StartContinuation():bz=this.continuations.push(by);return by;},ContinueWith$2:function(bv){return this.ContinueWith$1(bv,t.noneCT());},RunContinuations:function(){var bv,bw,bx;bv=this.continuations;for(bw=0,bx=bv.length-1;bw<=bx;bw++)B.get(bv,bw).StartContinuation();},OnCompleted:function(bv){var bw;if(this.get_IsCompleted())bv();else{bi.Equals(this.get_Status(),0)?this.Start():void 0;bw=this.ContinueWith$2(function(){return bv();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return bi.Equals(this.status,7);},get_IsCompleted:function(){return(bi.Equals(this.status,5)?true:bi.Equals(this.status,7))?true:bi.Equals(this.status,6);},get_IsCanceled:function(){return bi.Equals(this.status,6);},get_Exception:function(){return this.exc;}},null,bf);bf.WhenAll=function(bv){var bw,bx,by,bz,bA,bB;bw=B.length(bv);bx=[0];by=new a.Array(bw);bz=new bh.New();for(bA=0,bB=bw-1;bA<=bB;bA++)(function(bC){var bD;bD=B.get(bv,bA).ContinueWith$2(function(bE){var bF,bG;return bE.get_IsFaulted()?(bF=bz.TrySetException$1(bE.get_Exception()),void 0):bE.get_IsCanceled()?(bG=bz.TrySetCanceled$1(),void 0):(_4.incr(bx),by[bC]=bE.get_Result(),bx[0]===bw?bz.SetResult(by):null);});}(bA));return bz.get_Task();};bf.WhenAll$1=function(bv){var bw,bx,by,bz,bA,bB;bw=B.length(bv);bx=[0];by=new bh.New();for(bz=0,bA=bw-1;bz<=bA;bz++){bB=B.get(bv,bz).ContinueWith$2(function(bC){var bD,bE,bF;return bC.get_IsFaulted()?(bD=by.TrySetException$1(bC.get_Exception()),void 0):bC.get_IsCanceled()?(bE=by.TrySetCanceled$1(),void 0):(_4.incr(bx),bx[0]===bw?(bF=by.TrySetResult(),void 0):null);});}return by.get_Task();};bf.WhenAny=function(bv){var bw,bx,by,bz,bA;bw=new bh.New();for(bx=0,by=bv.length-1;bx<=by;bx++){bz=B.get(bv,bx);bA=bz.ContinueWith(function(bB){var bC;bC=bw.TrySetResult(bB);},t.noneCT());}return bw.get_Task();};bf.WhenAny$1=function(bv){var bw,bx,by,bz,bA;bw=new bh.New();for(bx=0,by=bv.length-1;bx<=by;bx++){bz=B.get(bv,bx);bA=bz.ContinueWith$2(function(bB){var bC;bC=bw.TrySetResult(bB);});}return bw.get_Task();};bf.Delay=function(bv,bw){var bx;bx=t.Sleep(bv);return t.StartAsTask(bx,{$:1,$0:bw});};bf.Delay$1=function(bv){var bw;bw=t.Sleep(bv);return t.StartAsTask(bw,null);};bf.Run=function(bv,bw){var bx;bx=bv();return bw.c?bf.FromCanceled(bw):(bi.Equals(bx.get_Status(),0)?bx.Start():void 0,bx);};bf.Run$1=function(bv,bw){var bx;bx=new bg.New(bv,bw,0,null,void 0);bx.Start();return bx;};bf.Run$2=function(bv,bw){var bx;bx=bv();return bw.c?bf.FromCanceled$1(bw):(bi.Equals(bx.get_Status(),0)?bx.Start():void 0,bx);};bf.Run$3=function(bv,bw){var bx;bx=new bf.New$2(bv,bw,0,null);bx.Start();return bx;};bf.FromResult=function(bv){return new bg.New(null,t.noneCT(),5,null,bv);};bf.FromException=function(bv){return new bg.New(null,t.noneCT(),7,new U.New$3([bv]),null);};bf.FromException$1=function(bv){return new bf.New$2(null,t.noneCT(),7,new U.New$3([bv]));};bf.FromCanceled=function(bv){return new bg.New(null,bv,6,null,null);};bf.FromCanceled$1=function(bv){return new bf.New$2(null,bv,6,null);};bf.New=bt.Ctor(function(bv,bw){bf.New$2.call(this,bv,bw,0,null);},bf);bf.New$1=bt.Ctor(function(bv){bf.New$2.call(this,bv,t.noneCT(),0,null);},bf);bf.New$2=bt.Ctor(function(bv,bw,bx,by){this.action=bv;this.token=bw;this.status=bx;this.continuations=[];this.exc=by;},bf);bg=b.Task1=bt.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},bf,bg);bg.New=bt.Ctor(function(bv,bw,bx,by,bz){bf.New$2.call(this,null,bw,bx,by);this.func=bv;this.result=bz;},bg);bh=b.TaskCompletionSource=bt.Class({TrySetResult:function(bv){return!this.task.get_IsCompleted()?(this.task.status=5,this.task.result=bv,this.task.RunContinuations(),true):false;},TrySetException:function(bv){return this.TrySetException$1(new U.New$2(bv));},TrySetException$1:function(bv){return!this.task.get_IsCompleted()?(this.task.status=7,this.task.exc=new U.New$3([bv]),this.task.RunContinuations(),true):false;},TrySetCanceled:function(bv){return!this.task.get_IsCompleted()?(this.task.status=6,this.task.RunContinuations(),true):false;},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()?(this.task.status=6,this.task.RunContinuations(),true):false;},SetResult:function(bv){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=bv;this.task.RunContinuations();},SetException:function(bv){this.SetException$1(new U.New$2(bv));},SetException$1:function(bv){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new U.New$3([bv]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},null,bh);bh.New=bt.Ctor(function(){this.task=new bg.New(null,t.noneCT(),1,null,void 0);},bh);bi.Hash=function(bv){var bw;bw=typeof bv;return bw=="function"?0:bw=="boolean"?bv?1:0:bw=="number"?bv:bw=="string"?bi.hashString(bv):bw=="object"?bv==null?0:bv instanceof a.Array?bi.hashArray(bv):bi.hashObject(bv):0;};bi.hashObject=function(bv){var bw,bx,by;if("GetHashCode"in bv)return bv.GetHashCode();else{bw=bi.hashMix;bx=[0];for(var bz in bv)if(function(bA){bx[0]=bw(bw(bx[0],bi.hashString(bA)),bi.Hash(bv[bA]));return false;}(bz))break;return bx[0];}};bi.hashString=function(bv){var bw,bx,by;if(bv===null)return 0;else{bw=5381;for(bx=0,by=bv.length-1;bx<=by;bx++)bw=bi.hashMix(bw,bv.charCodeAt(bx)<<0);return bw;}};bi.hashArray=function(bv){var bw,bx,by;bw=-34948909;for(bx=0,by=B.length(bv)-1;bx<=by;bx++)bw=bi.hashMix(bw,bi.Hash(B.get(bv,bx)));return bw;};bi.hashMix=function(bv,bw){return(bv<<5)+bv+bw;};bi.Equals=function(bv,bw){var bx,by,bz,bA;if(bv===bw)return true;else{bx=typeof bv;if(bx=="object"){if(((bv===null?true:bv===void 0)?true:bw===null)?true:bw===void 0)return false;else if("Equals"in bv)return bv.Equals(bw);else if(bv instanceof a.Array?bw instanceof a.Array:false)return bi.arrayEquals(bv,bw);else if(bv instanceof a.Date?bw instanceof a.Date:false)return bi.dateEquals(bv,bw);else{by=[true];for(var bB in bv)if(function(bC){by[0]=!bv.hasOwnProperty(bC)?true:bw.hasOwnProperty(bC)?bi.Equals(bv[bC],bw[bC]):false;return!by[0];}(bB))break;if(by[0]){for(var bC in bw)if(function(bD){by[0]=!bw.hasOwnProperty(bD)?true:bv.hasOwnProperty(bD);return!by[0];}(bC))break;}return by[0];}}else return bx=="function"?"$Func"in bv?bv.$Func===bw.$Func?bv.$Target===bw.$Target:false:("$Invokes"in bv?"$Invokes"in bw:false)?bi.arrayEquals(bv.$Invokes,bw.$Invokes):false:false;}};bi.dateEquals=function(bv,bw){return bv.getTime()===bw.getTime();};bi.arrayEquals=function(bv,bw){var bx,by;if(B.length(bv)===B.length(bw)){bx=true;by=0;while(bx?by<B.length(bv):false){!bi.Equals(B.get(bv,by),B.get(bw,by))?bx=false:void 0;by=by+1;}return bx;}else return false;};bi.Compare=function(bv,bw){var bx,by,bz,bA,bB,bC;if(bv===bw)return 0;else{by=typeof bv;switch(by=="function"?1:by=="boolean"?2:by=="number"?2:by=="string"?2:by=="object"?3:0){case 0:return typeof bw=="undefined"?0:-1;break;case 1:return _5.FailWith("Cannot compare function values.");break;case 2:return bv<bw?-1:1;break;case 3:if(bv===null)bz=-1;else if(bw===null)bz=1;else if("CompareTo"in bv)bz=bv.CompareTo(bw);else if("CompareTo0"in bv)bz=bv.CompareTo0(bw);else if(bv instanceof a.Array?bw instanceof a.Array:false)bz=bi.compareArrays(bv,bw);else if(bv instanceof a.Date?bw instanceof a.Date:false)bz=bi.compareDates(bv,bw);else{bA=[0];for(var bD in bv)if(function(bE){return!bv.hasOwnProperty(bE)?false:!bw.hasOwnProperty(bE)?(bA[0]=1,true):(bA[0]=bi.Compare(bv[bE],bw[bE]),bA[0]!==0);}(bD))break;if(bA[0]===0){for(var bE in bw)if(function(bF){return!bw.hasOwnProperty(bF)?false:!bv.hasOwnProperty(bF)?(bA[0]=-1,true):false;}(bE))break;}bz=bA[0];}return bz;break;}}};bi.compareDates=function(bv,bw){return _5.Compare(bv.getTime(),bw.getTime());};bi.compareArrays=function(bv,bw){var bx,by;if(B.length(bv)<B.length(bw))return -1;else if(B.length(bv)>B.length(bw))return 1;else{bx=0;by=0;while(bx===0?by<B.length(bv):false){bx=bi.Compare(B.get(bv,by),B.get(bw,by));by=by+1;}return bx;}};bj.TryParse=function(bv,bw,bx,by){var bz,bA;bz=+bv;bA=(bz===bz-bz%1?bz>=bw:false)?bz<=bx:false;bA?by.set(bz):void 0;return bA;};bj.Parse=function(bv,bw,bx,by){var bz;bz=+bv;if(bz!==bz-bz%1)throw new W.New$1("Input string was not in a correct format.");else if(bz<bw?true:bz>bx)throw new X.New$1(by);else return bz;};bk.TryParse=function(bv,bw){return bj.TryParse(bv,0,255,bw);};bk.Parse=function(bv){return bj.Parse(bv,0,255,"Value was either too large or too small for an unsigned byte.");};bl.TryParse=function(bv,bw){return bj.TryParse(bv,-128,127,bw);};bl.Parse=function(bv){return bj.Parse(bv,-128,127,"Value was either too large or too small for a signed byte.");};bm.TryParse=function(bv,bw){return bj.TryParse(bv,-32768,32767,bw);};bm.Parse=function(bv){return bj.Parse(bv,-32768,32767,"Value was either too large or too small for an Int16.");};bn.TryParse=function(bv,bw){return bj.TryParse(bv,-2147483648,2147483647,bw);};bn.Parse=function(bv){return bj.Parse(bv,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};bo.TryParse=function(bv,bw){return bj.TryParse(bv,0,65535,bw);};bo.Parse=function(bv){return bj.Parse(bv,0,65535,"Value was either too large or too small for an UInt16.");};bp.TryParse=function(bv,bw){return bj.TryParse(bv,0,4294967295,bw);};bp.Parse=function(bv){return bj.Parse(bv,0,4294967295,"Value was either too large or too small for an UInt32.");};bq.TryParse=function(bv,bw){return bj.TryParse(bv,-9223372036854775808,9223372036854775807,bw);};bq.Parse=function(bv){return bj.Parse(bv,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};br.TryParse=function(bv,bw){return bj.TryParse(bv,0,18446744073709551615,bw);};br.Parse=function(bv){return bj.Parse(bv,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};}());
